
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>4. Systematic code examples: a guided tour of Transcrypt &#8212; Transcrypt 3.7.15 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Seamless interoperation with the DOM" href="integration_javascript.html" />
    <link rel="prev" title="3. Special facilities" href="special_facilities.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="integration_javascript.html" title="5. Seamless interoperation with the DOM"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="special_facilities.html" title="3. Special facilities"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Transcrypt 3.7.15 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="systematic-code-examples-a-guided-tour-of-transcrypt">
<h1>4. Systematic code examples: a guided tour of Transcrypt<a class="headerlink" href="#systematic-code-examples-a-guided-tour-of-transcrypt" title="Permalink to this headline">¶</a></h1>
<p>One ready-to-run code example is worth more than ten lengthy descriptions. The <em>autotest and demo suite</em>, that is part of the distribution, is a collection of sourcecode fragments called <em>testlets</em>. These testlets are used for automated regression testing of Transcrypt against CPython.
Since they systematically cover all language constructs, they are also very effective as a learning tool. The testlets are arranged alphabetically by subject.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Autotest: Transcrypt autotest demo suite</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="kn">import</span> <span class="nn">org.transcrypt.autotester</span>

<span class="kn">import</span> <span class="nn">arguments</span>
<span class="kn">import</span> <span class="nn">attribs_by_name</span>
<span class="kn">import</span> <span class="nn">builtin_super</span>
<span class="kn">import</span> <span class="nn">byte_arrays</span>
<span class="kn">import</span> <span class="nn">callable_test</span>
<span class="kn">import</span> <span class="nn">classes</span>
<span class="kn">import</span> <span class="nn">complex_numbers</span>
<span class="kn">import</span> <span class="nn">conditional_expressions</span>
<span class="kn">import</span> <span class="nn">control_structures</span>

<span class="k">if</span> <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;defined&#39;</span><span class="p">,</span> <span class="s1">&#39;__py3.7__&#39;</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">dashed_numbers</span>

<span class="kn">import</span> <span class="nn">data_classes</span>
<span class="kn">import</span> <span class="nn">data_structures</span>
<span class="kn">import</span> <span class="nn">decorators</span>
<span class="kn">import</span> <span class="nn">dict_comprehensions</span>
<span class="kn">import</span> <span class="nn">dictionaries</span>
<span class="kn">import</span> <span class="nn">div_issues</span>
<span class="kn">import</span> <span class="nn">div_pulls</span>
<span class="kn">import</span> <span class="nn">docstrings</span>
<span class="kn">import</span> <span class="nn">exceptions</span>
<span class="kn">import</span> <span class="nn">executable_comments</span>
<span class="kn">import</span> <span class="nn">extended_slices</span>
<span class="kn">import</span> <span class="nn">fstrings</span>
<span class="kn">import</span> <span class="nn">general_functions</span>
<span class="kn">import</span> <span class="nn">globals_function</span>
<span class="kn">import</span> <span class="nn">indices_and_slices</span>
<span class="kn">import</span> <span class="nn">iterators_and_generators</span>
<span class="kn">import</span> <span class="nn">lambda_functions</span>
<span class="kn">import</span> <span class="nn">list_comprehensions</span>
<span class="kn">import</span> <span class="nn">local_classes</span>
<span class="kn">import</span> <span class="nn">metaclasses</span>
<span class="kn">import</span> <span class="nn">method_and_class_decorators</span>
<span class="kn">import</span> <span class="nn">module_builtin</span>
<span class="kn">import</span> <span class="nn">module_cmath</span>

<span class="k">if</span> <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;defined&#39;</span><span class="p">,</span> <span class="s1">&#39;undefined&#39;</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">module_collections</span>

<span class="kn">import</span> <span class="nn">module_datetime</span>
<span class="kn">import</span> <span class="nn">module_itertools</span>
<span class="kn">import</span> <span class="nn">module_math</span>
<span class="kn">import</span> <span class="nn">module_unicodedata</span>
<span class="kn">import</span> <span class="nn">modules</span>
<span class="kn">import</span> <span class="nn">nonlocals</span>
<span class="kn">import</span> <span class="nn">operator_overloading</span>
<span class="kn">import</span> <span class="nn">properties</span>
<span class="kn">import</span> <span class="nn">proxies</span>
<span class="kn">import</span> <span class="nn">reprtest</span>
<span class="kn">import</span> <span class="nn">set_comprehensions</span>
<span class="kn">import</span> <span class="nn">simple_and_augmented_assignment</span>

<span class="k">if</span> <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;defined&#39;</span><span class="p">,</span> <span class="s1">&#39;__sform__&#39;</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">string_format</span>

<span class="kn">import</span> <span class="nn">truthyness</span>
<span class="kn">import</span> <span class="nn">tuple_assignment</span>

<span class="n">autoTester</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">transcrypt</span><span class="o">.</span><span class="n">autotester</span><span class="o">.</span><span class="n">AutoTester</span> <span class="p">()</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">arguments</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">attribs_by_name</span><span class="p">,</span> <span class="s1">&#39;attribs_by_name&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">builtin_super</span><span class="p">,</span> <span class="s1">&#39;builtin_super&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">byte_arrays</span><span class="p">,</span> <span class="s1">&#39;byte_arrays&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">callable_test</span><span class="p">,</span> <span class="s1">&#39;callable&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">classes</span><span class="p">,</span> <span class="s1">&#39;classes&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">complex_numbers</span><span class="p">,</span> <span class="s1">&#39;complex_numbers&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">conditional_expressions</span><span class="p">,</span> <span class="s1">&#39;conditional_expressions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">control_structures</span><span class="p">,</span> <span class="s1">&#39;control_structures&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">dashed_numbers</span><span class="p">,</span> <span class="s1">&#39;dashed_numbers&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">data_classes</span><span class="p">,</span> <span class="s1">&#39;data_classes&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">data_structures</span><span class="p">,</span> <span class="s1">&#39;data_structures&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">decorators</span><span class="p">,</span> <span class="s1">&#39;decorators&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">dict_comprehensions</span><span class="p">,</span> <span class="s1">&#39;dict_comprehensions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">dictionaries</span><span class="p">,</span> <span class="s1">&#39;dictionaries&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">div_issues</span><span class="p">,</span> <span class="s1">&#39;div_issues&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">div_pulls</span><span class="p">,</span> <span class="s1">&#39;div_pulls&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">docstrings</span><span class="p">,</span> <span class="s1">&#39;docstrings&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">exceptions</span><span class="p">,</span> <span class="s1">&#39;exceptions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">executable_comments</span><span class="p">,</span> <span class="s1">&#39;executable_comments&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">extended_slices</span><span class="p">,</span> <span class="s1">&#39;extended_slices&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">fstrings</span><span class="p">,</span> <span class="s1">&#39;fstrings&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">general_functions</span><span class="p">,</span> <span class="s1">&#39;general_functions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">globals_function</span><span class="p">,</span> <span class="s1">&#39;globals_function&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">indices_and_slices</span><span class="p">,</span> <span class="s1">&#39;indices_and_slices&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">iterators_and_generators</span><span class="p">,</span> <span class="s1">&#39;iterators_and_generators&#39;</span><span class="p">)</span> 
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">lambda_functions</span><span class="p">,</span> <span class="s1">&#39;lambda_functions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">list_comprehensions</span><span class="p">,</span> <span class="s1">&#39;list_comprehensions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">local_classes</span><span class="p">,</span> <span class="s1">&#39;local_classes&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">metaclasses</span><span class="p">,</span> <span class="s1">&#39;metaclasses&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">method_and_class_decorators</span><span class="p">,</span> <span class="s1">&#39;method_and_class_decorators&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_builtin</span><span class="p">,</span> <span class="s1">&#39;module_builtin&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_cmath</span><span class="p">,</span> <span class="s1">&#39;module_cmath&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;defined&#39;</span><span class="p">,</span> <span class="s1">&#39;undefined&#39;</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_collections</span><span class="p">,</span> <span class="s1">&#39;module_collections&#39;</span><span class="p">)</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_datetime</span><span class="p">,</span> <span class="s1">&#39;module_datetime&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_itertools</span><span class="p">,</span> <span class="s1">&#39;module_itertools&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_math</span><span class="p">,</span> <span class="s1">&#39;module_math&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">module_unicodedata</span><span class="p">,</span> <span class="s1">&#39;module_unicodedata&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">modules</span><span class="p">,</span> <span class="s1">&#39;modules&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">nonlocals</span><span class="p">,</span> <span class="s1">&#39;nonlocals&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">operator_overloading</span><span class="p">,</span> <span class="s1">&#39;operator_overloading&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">properties</span><span class="p">,</span> <span class="s1">&#39;properties&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">reprtest</span><span class="p">,</span> <span class="s1">&#39;repr_str&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">proxies</span><span class="p">,</span> <span class="s1">&#39;proxies&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">set_comprehensions</span><span class="p">,</span> <span class="s1">&#39;set_comprehensions&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">simple_and_augmented_assignment</span><span class="p">,</span> <span class="s1">&#39;simple_and_augmented_assignment&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;defined&#39;</span><span class="p">,</span> <span class="s1">&#39;__sform__&#39;</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">string_format</span><span class="p">,</span> <span class="s1">&#39;string_format&#39;</span><span class="p">)</span>
 
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">truthyness</span><span class="p">,</span> <span class="s1">&#39;truthyness&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">tuple_assignment</span><span class="p">,</span> <span class="s1">&#39;tuple_assignment&#39;</span><span class="p">)</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">done</span> <span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-kwargs-args-defaults-at-call-and-def-time-also-for-lambda-s">
<span id="autotest-arguments"></span><h2>4.1. Arguments: **kwargs, *args, defaults, at call and def time, also for lambda’s<a class="headerlink" href="#arguments-kwargs-args-defaults-at-call-and-def-time-also-for-lambda-s" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Testlet: arguments</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">123</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">456</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">456</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">m</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span>

    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">)</span>
        
<span class="k">class</span> <span class="nc">B</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">A</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">m</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        
<span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">tricky</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">args</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># BEGIN issue 203, kwargs turned into real dict</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;#203&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;#203&#39;</span><span class="p">,</span> <span class="nb">sorted</span> <span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span> <span class="p">()))</span>
        <span class="c1"># END issue 203</span>
    
        <span class="k">def</span> <span class="nf">f2</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        <span class="n">f2</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1010</span><span class="p">,</span> <span class="mi">2020</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100100</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">200200</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">10001000</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">20002000</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        
    <span class="n">f</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">)</span>
    
    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        
    <span class="n">g</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="o">**</span><span class="p">{</span><span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="s1">&#39;aP&#39;</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;aQ&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="s1">&#39;anR&#39;</span><span class="p">})</span>
    
    <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mf">256.3</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mf">1024.3</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mf">2048.3</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">C</span> <span class="p">()</span> <span class="o">.</span><span class="n">tricky</span> <span class="p">(</span><span class="o">*</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="o">*</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="attribute-access-by-name-getattr-setattr-hasattr">
<h2>4.2. Attribute access by name: getattr, setattr, hasattr<a class="headerlink" href="#attribute-access-by-name-getattr-setattr-hasattr" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Testlet: attribs_by_name</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span>
        
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="nb">getattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">))</span>
    
    <span class="nb">setattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="nb">getattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">))</span>
    
    <span class="nb">setattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;exists&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">),</span> <span class="n">a</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="nb">getattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">))</span>
    
    <span class="nb">delattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="attribute-proxies-by-name-getattr-setattr">
<h2>4.3. Attribute proxies by name: __getattr__, __setattr__<a class="headerlink" href="#attribute-proxies-by-name-getattr-setattr" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Testlet: proxies</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">CodedStore</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;self [&quot;__dict__&quot;] = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">def</span> <span class="nf">__setattr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;coded_&#39;</span> <span class="o">+</span> <span class="n">message</span>

        <span class="k">def</span> <span class="nf">__getattr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;decoded_&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">]</span>
            
        <span class="k">def</span> <span class="nf">peek</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">]</span>
            
    <span class="n">s</span> <span class="o">=</span> <span class="n">CodedStore</span> <span class="p">()</span>

    <span class="n">s</span><span class="o">.</span><span class="n">john</span> <span class="o">=</span> <span class="s1">&#39;brown&#39;</span>
    <span class="n">s</span><span class="o">.</span><span class="n">mary</span> <span class="o">=</span> <span class="s1">&#39;white&#39;</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">peek</span> <span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">peek</span> <span class="p">(</span><span class="s1">&#39;mary&#39;</span><span class="p">))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">john</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">mary</span><span class="p">)</span>
    
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The code above produces the following output:</span>
<span class="sd">        &#39;coded_brown&#39;</span>
<span class="sd">        &#39;coded_white&#39;</span>
<span class="sd">        &#39;decoded_coded_brown&#39;</span>
<span class="sd">        &#39;decoded_coded_white&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mi">2</span>
            
    <span class="k">class</span> <span class="nc">B</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__getattr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Faked </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span>
            
    <span class="k">class</span> <span class="nc">C</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__setattr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Set faked </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="p">))</span>
            
            <span class="n">A</span><span class="o">.</span><span class="fm">__setattr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="c1"># Needed for CPython, inherited from class &#39;object&#39;</span>
            <span class="c1"># Transcrypt doesn&#39;t need it, if there&#39;s no __setattrib__ it will just use self [name] = value</span>
    
    <span class="k">class</span> <span class="nc">D</span> <span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
        <span class="k">pass</span>
        
    <span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">()</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">()</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">D</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">b</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">c</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">d</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">d</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">d</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>   
</pre></div>
</div>
</div>
</div>
<div class="section" id="bytes-and-bytearrays-initial-support">
<h2>4.4. Bytes and bytearrays: initial support<a class="headerlink" href="#bytes-and-bytearrays-initial-support" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Testlet: byte_arrays</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;bike&#39;</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">bytes</span> <span class="p">(</span><span class="s1">&#39;shop&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
    <span class="n">e</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
    <span class="n">bb</span> <span class="o">=</span> <span class="nb">bytearray</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
    <span class="n">bc</span> <span class="o">=</span> <span class="nb">bytes</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>

    <span class="c1"># __pragma__ (&#39;opov&#39;)</span>
    <span class="n">bps</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;pump&#39;</span> <span class="o">+</span> <span class="n">s</span>
    <span class="n">bps3</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">bps</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\0</span><span class="s1">&#39;</span>
    <span class="n">aBps3</span> <span class="o">=</span> <span class="n">bps</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\0</span><span class="s1">&#39;</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="c1"># __pragma__ (&#39;noopov&#39;)</span>

    <span class="k">def</span> <span class="nf">formatCheck</span> <span class="p">(</span><span class="n">aBytes</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="nb">int</span> <span class="p">(</span><span class="n">aByte</span><span class="p">)</span> <span class="k">for</span> <span class="n">aByte</span> <span class="ow">in</span> <span class="n">aBytes</span><span class="p">])</span>
    
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">bb</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">bc</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">bps</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">bps3</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">aBps3</span><span class="p">)</span>

    <span class="c1"># __pragma__ (&#39;opov&#39;)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">bb</span> <span class="o">+</span> <span class="n">bc</span><span class="p">)</span>
    <span class="n">formatCheck</span> <span class="p">(</span><span class="nb">bytearray</span> <span class="p">(</span><span class="s1">&#39;ding&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;dang&#39;</span> <span class="o">+</span> <span class="nb">bytes</span> <span class="p">(</span><span class="s1">&#39;dong&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
    <span class="c1"># __pragma__ (&#39;noopov&#39;)</span>

    <span class="n">formatCheck</span> <span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="callable-or-not-using-the-callable-built-in-function">
<h2>4.5. Callable or not: using the callable () built-in function<a class="headerlink" href="#callable-or-not-using-the-callable-built-in-function" title="Permalink to this headline">¶</a></h2>
<p>The <em>callable (object)</em> built-in function will tell you if something supports the () operator.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Testlet: callable_test</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Callable built-in method unit tests</span>

<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
        <span class="k">return</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">func</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mf">2.3</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;asdf&quot;</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;qwer&quot;</span><span class="p">,</span> <span class="s2">&quot;zxcv&quot;</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;asdf&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;qwer&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">callable</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>

    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">CallObj</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_r</span> <span class="o">=</span> <span class="n">r</span>

        <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_r</span><span class="p">)</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">CallObj</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">obj</span> <span class="o">=</span> <span class="n">CallObj</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">obj</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">_r</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">class</span> <span class="nc">NonCallObj</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_b</span> <span class="o">=</span> <span class="n">b</span>

        <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_b</span><span class="p">)</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">NonCallObj</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">obj2</span> <span class="o">=</span> <span class="n">NonCallObj</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj2</span><span class="o">.</span><span class="n">_b</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj2</span><span class="o">.</span><span class="n">func</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">NonOpovNonCallObj</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_c</span> <span class="o">=</span> <span class="n">c</span>

        <span class="k">def</span> <span class="nf">other</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_c</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_getC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_c</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">_setC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_c</span> <span class="o">=</span> <span class="n">val</span>

        <span class="n">C</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getC</span><span class="p">,</span> <span class="n">_setC</span><span class="p">)</span>

    <span class="n">obj</span> <span class="o">=</span> <span class="n">NonOpovNonCallObj</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">other</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">_c</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">C</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">exc</span> <span class="o">=</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">callable</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="classes-multiple-inheritance-and-assignment-of-bound-functions">
<h2>4.6. Classes: multiple inheritance and assignment of bound functions<a class="headerlink" href="#classes-multiple-inheritance-and-assignment-of-bound-functions" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Testlet: classes</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;General&lt;br&gt;&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="mi">123</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;A.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">show2</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;A.show2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        
    <span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
        <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">456</span><span class="p">,</span> <span class="mi">789</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;In B constructor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;B.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            
    <span class="k">class</span> <span class="nc">C</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;In C constructor&#39;</span><span class="p">)</span>
            <span class="n">A</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
            <span class="n">B</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
            <span class="n">A</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
            <span class="n">B</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;C.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        
    <span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">(</span><span class="mi">1001</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s1">&#39;america&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>

    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">(</span><span class="mi">2002</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s1">&#39;russia&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>

    <span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">(</span><span class="mi">3003</span><span class="p">,</span> <span class="mi">4004</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s1">&#39;netherlands&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>

    <span class="n">c</span><span class="o">.</span><span class="n">show2</span> <span class="p">(</span><span class="s1">&#39;amsterdam&#39;</span><span class="p">)</span>
    <span class="n">A</span><span class="o">.</span><span class="n">show2</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;rotterdam&#39;</span><span class="p">)</span>

    <span class="n">show3</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">show</span>
    <span class="n">show3</span> <span class="p">(</span><span class="s1">&#39;copy&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">hasattr</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Augmented isinstance and issubclass&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="c1"># Augmented meaning: compatible with native JavaScript types</span>
        
    <span class="n">simpleTypes</span> <span class="o">=</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span>
    <span class="n">tupleTypes</span> <span class="o">=</span> <span class="p">((</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="n">A</span><span class="p">),</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">),</span> <span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="nb">object</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">types</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">((</span><span class="n">simpleTypes</span><span class="p">,</span> <span class="n">tupleTypes</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">aType</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(</span><span class="n">types</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">anObject</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">[],</span> <span class="n">a</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="nb">isinstance</span> <span class="p">(</span><span class="n">anObject</span><span class="p">,</span> <span class="n">aType</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">types</span> <span class="o">==</span> <span class="n">simpleTypes</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="nb">isinstance</span> <span class="p">(</span><span class="n">anObject</span><span class="p">,</span> <span class="n">simpleTypes</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">types</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">((</span><span class="n">simpleTypes</span><span class="p">,</span> <span class="n">tupleTypes</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">aType</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(</span><span class="n">types</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">aClass</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">((</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="nb">issubclass</span> <span class="p">(</span><span class="n">aClass</span><span class="p">,</span> <span class="n">aType</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">types</span> <span class="o">==</span> <span class="n">simpleTypes</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="nb">issubclass</span> <span class="p">(</span><span class="n">aClass</span><span class="p">,</span> <span class="n">simpleTypes</span><span class="p">))</span>
                    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Method resolution order&lt;br&gt;&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">mro</span> <span class="p">(</span><span class="n">aClass</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Recursively assemble method resolution order from all base classes&#39;&#39;&#39;</span>
        <span class="n">last</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">aClass</span><span class="p">]</span>
            <span class="n">last</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">aBase</span> <span class="ow">in</span> <span class="n">aClass</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">aBase</span> <span class="ow">in</span> <span class="n">result</span> <span class="ow">and</span> <span class="n">aBase</span> <span class="o">!=</span> <span class="nb">object</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span> <span class="p">(</span><span class="n">aBase</span><span class="p">)</span>
                <span class="n">mro</span> <span class="p">(</span><span class="n">aBase</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">last</span> <span class="ow">and</span> <span class="nb">object</span> <span class="ow">in</span> <span class="n">aClass</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
            <span class="n">aRoot</span><span class="o">.</span><span class="n">append</span> <span class="p">(</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">aClass</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">aClass</span> <span class="ow">in</span> <span class="n">mro</span> <span class="p">(</span><span class="n">C</span><span class="p">)])</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="complex-numbers-python-s-builtin-complex-datatype">
<h2>4.7. Complex numbers: Python’s builtin complex datatype<a class="headerlink" href="#complex-numbers-python-s-builtin-complex-datatype" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Testlet: complex_numbers</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">567</span>
    <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">y</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">conjugate</span> <span class="p">()</span> <span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">conjugate</span> <span class="p">()</span> <span class="o">.</span><span class="n">imag</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="mi">234</span> <span class="o">+</span> <span class="mi">3</span><span class="n">j</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">-</span> <span class="mi">5</span><span class="n">j</span>
    <span class="n">c</span> <span class="o">=</span> <span class="nb">complex</span> <span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">conjugate</span> <span class="p">()</span> <span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">conjugate</span> <span class="p">()</span> <span class="o">.</span><span class="n">imag</span><span class="p">)</span>
    
    <span class="n">t</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">7</span>   <span class="c1"># Just to check, faster with &#39;noopov&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="n">d</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">b</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="n">d</span> <span class="o">+</span> <span class="n">e</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">c</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">x</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">y</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="nb">round</span> <span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="conditional-expressions-simple-and-nested">
<h2>4.8. Conditional expressions: simple and nested<a class="headerlink" href="#conditional-expressions-simple-and-nested" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Testlet: conditional_expressions</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">bools</span> <span class="o">=</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">bools</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bools</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="mi">10</span> <span class="k">if</span> <span class="n">a</span> <span class="k">else</span> <span class="mi">100</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
            
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">bools</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">bools</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">bools</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span> <span class="k">if</span> <span class="n">p</span> <span class="k">else</span> <span class="s1">&#39;b&#39;</span> <span class="k">if</span> <span class="n">q</span> <span class="k">else</span> <span class="s1">&#39;c&#39;</span> <span class="k">if</span> <span class="n">r</span> <span class="k">else</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
                
                <span class="n">a</span> <span class="o">=</span> <span class="p">(((</span><span class="s1">&#39;e&#39;</span> <span class="k">if</span> <span class="n">p</span> <span class="k">else</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">q</span> <span class="k">else</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">r</span> <span class="k">else</span> <span class="s1">&#39;h&#39;</span><span class="p">)</span>
                <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;i&#39;</span> <span class="k">if</span> <span class="n">p</span> <span class="k">else</span> <span class="p">(</span><span class="s1">&#39;j&#39;</span> <span class="k">if</span> <span class="n">q</span> <span class="k">else</span> <span class="p">(</span><span class="s1">&#39;k&#39;</span> <span class="k">if</span> <span class="n">r</span> <span class="k">else</span> <span class="s1">&#39;l&#39;</span><span class="p">)))</span>
                <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span> <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="k">if</span> <span class="n">q</span> <span class="k">else</span> <span class="n">r</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;n&#39;</span>
                <span class="n">d</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">q</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="k">else</span> <span class="s1">&#39;p&#39;</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
                
    <span class="n">odd</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
    <span class="n">noDuplicates</span> <span class="o">=</span> <span class="nb">set</span> <span class="p">(</span><span class="n">odd</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">odd</span><span class="p">,</span> <span class="n">noDuplicates</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="control-structures-for-else-while-else-if-elif-else-break-continue">
<h2>4.9. Control structures: for…else, while…else, if…elif…else, break, continue<a class="headerlink" href="#control-structures-for-else-while-else-if-elif-else-break-continue" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Testlet: control_structures</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ContextManagerExample</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        
    <span class="k">def</span> <span class="nf">__enter__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span>
        
    <span class="k">def</span> <span class="nf">__exit__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">99</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>

    <span class="c1"># General control structure tests</span>

    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;turtle&#39;</span><span class="p">,</span> <span class="s1">&#39;goldfish&#39;</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">animal</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">square</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">([</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">square</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="p">)</span>

    <span class="n">vehicles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;boat&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="s1">&#39;plane&#39;</span><span class="p">,</span> <span class="s1">&#39;bus&#39;</span><span class="p">]</span>
                
    <span class="k">for</span> <span class="n">doBreak</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">doContinue</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">index2</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">doBreak</span> <span class="ow">and</span> <span class="n">index2</span> <span class="o">==</span> <span class="mi">50</span><span class="p">:</span>
                        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;break2&#39;</span><span class="p">)</span>
                        <span class="k">break</span>
                    <span class="k">if</span> <span class="n">doContinue</span> <span class="ow">and</span> <span class="n">index2</span> <span class="o">==</span> <span class="mi">50</span><span class="p">:</span>
                        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;continue2&#39;</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;noBreak2&#39;</span><span class="p">)</span>
                    
                <span class="k">if</span> <span class="n">doBreak</span> <span class="ow">and</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;break&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">doContinue</span> <span class="ow">and</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;continue&#39;</span><span class="p">)</span>
                    <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;noBreak&#39;</span><span class="p">)</span>
                
            <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span> <span class="p">(</span><span class="n">vehicles</span><span class="p">)</span> <span class="ow">and</span> <span class="n">vehicles</span> <span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;bus&#39;</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">vehicles</span> <span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">doBreak</span> <span class="ow">and</span> <span class="n">vehicles</span> <span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;car&#39;</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;breakWhile&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">doContinue</span> <span class="ow">and</span> <span class="n">vehicles</span> <span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;car&#39;</span><span class="p">:</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;continueWhile&#39;</span><span class="p">)</span>
                    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">continue</span>
                <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;noBreakWhile&#39;</span><span class="p">)</span>
                
        <span class="k">for</span> <span class="n">vehicle</span> <span class="ow">in</span> <span class="n">vehicles</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vehicle</span> <span class="o">==</span> <span class="s1">&#39;bike&#39;</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;netherlands&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">vehicle</span> <span class="o">==</span> <span class="s1">&#39;car&#39;</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;america&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">vehicle</span> <span class="o">==</span> <span class="s1">&#39;boat&#39;</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;oceania&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;anywhere&#39;</span><span class="p">)</span> 
                
    <span class="c1"># Context manager tests</span>

    <span class="n">externalCounter1</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="n">ContextManagerExample</span> <span class="p">()</span> <span class="k">as</span> <span class="n">contextManagerExample1</span><span class="p">:</span>
        <span class="n">externalCounter1</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx1&#39;</span><span class="p">,</span> <span class="n">contextManagerExample1</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">externalCounter1</span><span class="p">)</span>
    
    <span class="n">externalCounter2</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="n">ContextManagerExample</span> <span class="p">()</span> <span class="k">as</span> <span class="n">contextManagerExample2</span><span class="p">:</span>
        <span class="n">externalCounter2</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">contextManagerExample2</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">100</span>
        <span class="n">externalCounter3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">with</span> <span class="n">ContextManagerExample</span> <span class="p">()</span> <span class="k">as</span> <span class="n">contextManagerExample3</span><span class="p">:</span>
            <span class="n">externalCounter3</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">contextManagerExample2</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">100</span>     
            <span class="n">externalCounter3</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="n">contextManagerExample3</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">200</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx3&#39;</span><span class="p">,</span> <span class="n">contextManagerExample3</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">externalCounter3</span><span class="p">)</span>
        <span class="n">externalCounter2</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="n">contextManagerExample2</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx2&#39;</span><span class="p">,</span> <span class="n">contextManagerExample2</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">externalCounter2</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">externalCounter4</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">with</span> <span class="n">ContextManagerExample</span> <span class="p">()</span> <span class="k">as</span> <span class="n">contextManagerExample4</span><span class="p">:</span>
            <span class="n">externalCounter4</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">contextManagerExample4</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">100</span>
            <span class="n">externalCounter5</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">with</span> <span class="n">ContextManagerExample</span> <span class="p">()</span> <span class="k">as</span> <span class="n">contextManagerExample5</span><span class="p">:</span>
                <span class="n">externalCounter5</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">contextManagerExample5</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">100</span>
                <span class="k">raise</span> <span class="ne">Exception</span> <span class="p">()</span>    
                <span class="n">externalCounter5</span> <span class="o">+=</span> <span class="mi">2</span>
                <span class="n">contextManagerExample5</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">200</span>  
            <span class="n">externalCounter4</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="n">contextManagerExample4</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx6&#39;</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx5&#39;</span><span class="p">,</span> <span class="n">contextManagerExample5</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">externalCounter5</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ctx4&#39;</span><span class="p">,</span> <span class="n">contextManagerExample4</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">externalCounter4</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-classes-avoiding-boilerplate-code">
<h2>4.10. Data classes: Avoiding boilerplate code<a class="headerlink" href="#data-classes-avoiding-boilerplate-code" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">Testlet: data_classes</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="k">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">ClassVar</span>

<span class="k">def</span> <span class="nf">getQ</span> <span class="p">():</span>
    <span class="k">return</span> <span class="mi">1002</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="mi">101010</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">202020</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">B</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">p</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1001</span>
    <span class="n">q</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1002</span>
    
<span class="nd">@dataclass</span> <span class="p">(</span><span class="n">order</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">C</span> <span class="p">(</span><span class="n">B</span><span class="p">):</span>
    <span class="nd">@dataclass</span>
    <span class="k">class</span> <span class="nc">CC</span> <span class="p">(</span><span class="n">B</span><span class="p">):</span>
        <span class="n">k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span>
        <span class="n">l</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">55.5</span>
        <span class="n">j</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">yy</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">22</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">zz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">33</span>
    <span class="n">t</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">g</span> <span class="o">=</span> <span class="mi">100000</span>
    <span class="n">h</span> <span class="o">=</span> <span class="mi">100001</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">100002</span>
    
    <span class="k">def</span> <span class="nf">getV</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">3</span>
        
    <span class="k">def</span> <span class="nf">setV</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">pass</span>
    
    <span class="n">v</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getV</span><span class="p">,</span> <span class="n">setV</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getW</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">4</span>
        
    <span class="k">def</span> <span class="nf">setW</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">pass</span>
    
    <span class="n">w</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getW</span><span class="p">,</span> <span class="n">setW</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">p</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">2000</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span><span class="s1">&#39;something(a: </span><span class="si">{self.a}</span><span class="s1">, b: </span><span class="si">{self.b}</span><span class="s1">)&#39;</span>


<span class="nd">@dataclass</span> <span class="p">(</span><span class="n">order</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>        
<span class="k">class</span> <span class="nc">D</span><span class="p">:</span>        
    <span class="n">_p</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">def</span> <span class="nf">setP</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">pass</span>
        <span class="c1">#self._p = value</span>

    <span class="k">def</span> <span class="nf">getP</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">20</span>
        <span class="c1">#return self._p</span>
        
    <span class="n">p</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getP</span><span class="p">,</span> <span class="n">setP</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">zz</span> <span class="o">=</span> <span class="mi">330</span><span class="p">)</span>
    <span class="n">cc</span> <span class="o">=</span> <span class="n">C</span> <span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="mi">10200</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">400</span>
    <span class="n">cc</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">456</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">)</span>
    <span class="n">cc</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">4000</span>
    
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">c</span><span class="p">,</span> <span class="n">cc</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">yy</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">zz</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">repr</span> <span class="p">(</span><span class="n">c</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">repr</span> <span class="p">(</span><span class="n">cc</span><span class="p">))</span> 
    
    <span class="c1">#__pragma__ (&#39;opov&#39;)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">cc</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="n">cc</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">cc</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">cc</span><span class="p">)</span>  <span class="c1">#</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;=</span> <span class="n">cc</span><span class="p">)</span> <span class="c1">#</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="n">cc</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;=</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="p">)</span>

    <span class="n">d3</span> <span class="o">=</span> <span class="n">D</span> <span class="p">()</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="n">D</span> <span class="p">()</span>
    <span class="n">d2</span> <span class="o">=</span> <span class="n">D</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">repr</span> <span class="p">(</span><span class="n">d1</span><span class="p">))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d3</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d3</span> <span class="o">&gt;</span> <span class="n">d1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d2</span><span class="p">,</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span> <span class="o">&gt;</span> <span class="n">d1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d3</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span> <span class="o">&gt;</span> <span class="n">d2</span><span class="p">)</span> 

    <span class="n">ccc</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">CC</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">ccc</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">ccc</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">ccc</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">ccc</span><span class="o">.</span><span class="n">k</span><span class="p">,</span> <span class="n">ccc</span><span class="o">.</span><span class="n">l</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-structures-tuple-list-dict-set">
<h2>4.11. Data structures: tuple, list, dict, set<a class="headerlink" href="#data-structures-tuple-list-dict-set" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Testlet: data_structures</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;moon&#39;</span><span class="p">,</span> <span class="s1">&#39;stars&#39;</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    <span class="n">aList</span><span class="o">.</span><span class="n">insert</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;sun&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span> <span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span> <span class="p">[:])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span> <span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">aList</span><span class="p">))</span>
    <span class="n">aList</span><span class="o">.</span><span class="n">append</span> <span class="p">(</span><span class="s1">&#39;milkyway&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    <span class="n">aList</span><span class="o">.</span><span class="n">extend</span> <span class="p">([</span><span class="s1">&#39;m1&#39;</span><span class="p">,</span> <span class="s1">&#39;m31&#39;</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>

    <span class="n">anotherList</span> <span class="o">=</span> <span class="nb">list</span> <span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">anotherList</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">anotherList</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;d&#39;</span> <span class="ow">in</span> <span class="n">anotherList</span><span class="p">)</span>
    
    <span class="n">aDict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;plant&#39;</span><span class="p">,</span> <span class="s1">&#39;animal&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aDict</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aDict</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">aDict</span> <span class="p">[</span><span class="s1">&#39;animal&#39;</span><span class="p">])</span>
    
    <span class="k">def</span> <span class="nf">p</span> <span class="p">():</span>
        <span class="k">return</span> <span class="mi">3</span>
        
    <span class="n">q</span> <span class="o">=</span> <span class="mi">4</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="n">p</span> <span class="p">():</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="s1">&#39;four&#39;</span><span class="p">})</span>
    
    <span class="n">aTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aTuple</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">aTuple</span><span class="p">))</span>

    <span class="n">anotherTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">anotherTuple</span><span class="p">)</span>

    <span class="n">aSet</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aSet</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">aSet</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">aSet</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">4</span> <span class="ow">in</span> <span class="n">aSet</span><span class="p">)</span>
    <span class="n">aSet</span><span class="o">.</span><span class="n">clear</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aSet</span><span class="p">)</span>

    <span class="n">anotherSet</span> <span class="o">=</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">anotherSet</span><span class="p">)</span>

    <span class="n">emptySet</span> <span class="o">=</span> <span class="nb">set</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">emptySet</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">emptySet</span><span class="p">))</span>
    
    <span class="n">aString</span> <span class="o">=</span> <span class="s1">&#39;c_cis_d_dis_e_f_fis_g_gis_a_ais_b_c&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;cis&#39;</span> <span class="ow">in</span> <span class="n">aString</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;g&#39;</span> <span class="ow">in</span> <span class="n">aString</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;bes&#39;</span>  <span class="ow">in</span> <span class="n">aString</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;z&#39;</span> <span class="ow">in</span> <span class="n">aString</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="decorators-function-and-class-with-and-without-parameters">
<h2>4.12. Decorators: function and class, with and without parameters<a class="headerlink" href="#decorators-function-and-class-with-and-without-parameters" title="Permalink to this headline">¶</a></h2>
<p>Transcrypt supports decorators on methods and classes. A decorator itself can be a function or an object with an overloaded __call__ operator. Parameterized decorator factories are also supported. All flavours of properties can be used directly or through decorator syntax. Extensive use of properties is demonstrated in the <a class="reference internal" href="#autotest-properties"><span class="std std-ref">properties testlet</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Testlet: decorators</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">repeat3</span> <span class="p">(</span><span class="n">bareFunc</span><span class="p">):</span>
        <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">innerFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;BEGIN repeat3&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="n">bareFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;END repeat3&#39;</span><span class="p">)</span>
        <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">innerFunc</span>
        
    <span class="k">def</span> <span class="nf">repeatN</span> <span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repeat</span> <span class="p">(</span><span class="n">bareFunc</span><span class="p">):</span>
            <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">innerFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;BEGIN repeatN (</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">n</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">n</span><span class="p">):</span>
                    <span class="n">bareFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;END repeatN (</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">n</span><span class="p">))</span>
            <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">innerFunc</span>
        <span class="k">return</span> <span class="n">repeat</span>

    <span class="k">class</span> <span class="nc">Repeater</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
            
        <span class="k">def</span> <span class="nf">__call__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bareFunc</span><span class="p">):</span>
            <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">innerFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;BEGIN repeat3&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">):</span>
                    <span class="n">bareFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;END repeat3&#39;</span><span class="p">)</span>
            <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">innerFunc</span>
        
    <span class="nd">@repeatN</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nd">@repeat3</span>
    <span class="k">def</span> <span class="nf">funcNoArg</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">)</span>
        
    <span class="n">funcNoArg</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
    <span class="nd">@repeat3</span>
    <span class="nd">@repeatN</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">funcArg</span> <span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
        
    <span class="n">funcArg</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">funcArg</span> <span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="nd">@Repeater</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">funcNoArg2</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;toast&#39;</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>

    <span class="n">funcNoArg2</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
    <span class="nd">@Repeater</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">funcArg2</span> <span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;jam&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>

    <span class="n">funcArg2</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">funcArg2</span> <span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">next</span> <span class="p">(</span><span class="n">bareFunc</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">innerFunc</span> <span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">bareFunc</span> <span class="p">(</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">innerFunc</span>
        
    <span class="nd">@next</span>
    <span class="k">class</span> <span class="nc">Number</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
            
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="n">Number</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">.</span><span class="n">value</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">Test</span><span class="p">:</span> 
        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            
    <span class="n">test</span> <span class="o">=</span> <span class="n">Test</span> <span class="p">()</span>

    <span class="n">test</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="dict-comprehensions">
<h2>4.13. Dict comprehensions<a class="headerlink" href="#dict-comprehensions" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Testlet: dict_comprehensions</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;iconv&#39;</span><span class="p">)</span>    <span class="c1"># Convert dict to key list without using keys () method</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">original</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Isaac&#39;</span><span class="p">:</span> <span class="s1">&#39;Newton&#39;</span><span class="p">,</span> <span class="s1">&#39;Albert&#39;</span><span class="p">:</span> <span class="s1">&#39;Einstein&#39;</span><span class="p">,</span> <span class="s1">&#39;Paul&#39;</span><span class="p">:</span> <span class="s1">&#39;Dirac&#39;</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">original</span><span class="p">)</span>

    <span class="n">inverted</span> <span class="o">=</span> <span class="p">{</span><span class="n">original</span> <span class="p">[</span><span class="n">key</span><span class="p">]:</span> <span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">original</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">inverted</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dictionaries-dict-revisited">
<h2>4.14. Dictionaries: dict revisited<a class="headerlink" href="#dictionaries-dict-revisited" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Testlet: dictionaries</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;iconv&#39;</span><span class="p">)</span>

<span class="c1"># Dictionaries are translated to JavaScript objects,</span>
<span class="c1"># to achieve JSON-compatible syntax for JavaScript library object initialisation.</span>
<span class="c1"># Keys that may denote a number are interpreted as such in Transcrypt.</span>
<span class="c1"># All other keys are interpreted as strings.</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">tel</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;guido&#39;</span><span class="p">:</span> <span class="mi">4127</span><span class="p">,</span> <span class="s1">&#39;jack&#39;</span><span class="p">:</span> <span class="mi">4098</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">tel</span><span class="p">))</span>
    <span class="n">tel</span> <span class="p">[</span><span class="s1">&#39;sape&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4139</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span> <span class="p">[</span><span class="s1">&#39;jack&#39;</span><span class="p">])</span>

    <span class="k">del</span> <span class="n">tel</span> <span class="p">[</span><span class="s1">&#39;sape&#39;</span><span class="p">]</span>
    <span class="n">tel</span> <span class="p">[</span><span class="s1">&#39;irv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4127</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">keys</span> <span class="p">())),</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">keys</span> <span class="p">()))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;guido&#39;</span> <span class="ow">in</span> <span class="n">tel</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;jack&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tel</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">dict</span> <span class="p">([(</span><span class="s1">&#39;guido&#39;</span><span class="p">,</span> <span class="mi">4127</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;jack&#39;</span><span class="p">,</span> <span class="mi">4098</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;sape&#39;</span><span class="p">,</span> <span class="mi">4139</span><span class="p">)]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="mf">134.34</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="s1">&#39;asdf&#39;</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">([</span><span class="s1">&#39;1234&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">dict</span> <span class="p">([]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">dict</span> <span class="p">({}))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">dict</span> <span class="p">({</span><span class="s1">&#39;asdf&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;qwer&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span> <span class="p">)</span>

    <span class="c1"># check dict copy, Issue # 221</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="mf">2.01</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">3.3</span><span class="p">}</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]}</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])}</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)}</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">))</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">))</span>

    <span class="n">knights</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;robin&#39;</span><span class="p">:</span> <span class="s1">&#39;the brave&#39;</span><span class="p">,</span> <span class="s1">&#39;gallahad&#39;</span><span class="p">:</span> <span class="s1">&#39;the pure&#39;</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span> <span class="p">(</span><span class="n">knights</span><span class="o">.</span><span class="n">items</span> <span class="p">()):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;gallahad&#39;</span> <span class="ow">in</span> <span class="n">knights</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;gallahad is a knight&#39;</span><span class="p">)</span> 

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span> <span class="p">(</span><span class="n">knights</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">k</span><span class="p">)</span>
        
    <span class="n">knight</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rudolph&#39;</span><span class="p">:</span> <span class="s1">&#39;the righteous&#39;</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">knight</span><span class="p">:</span>    <span class="c1"># Autotest automatic conversion with one knight, since sort order of dict undefined</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">k</span><span class="p">)</span>
        
    <span class="n">tel</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;guido&#39;</span><span class="p">:</span> <span class="mi">123</span><span class="p">}</span>
    <span class="n">tel</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;edsger&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">setdefault</span> <span class="p">(</span><span class="s1">&#39;linus&#39;</span><span class="p">,</span> <span class="mi">456</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span> <span class="p">[</span><span class="s1">&#39;linus&#39;</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">setdefault</span> <span class="p">(</span><span class="s1">&#39;guido&#39;</span><span class="p">,</span> <span class="mi">789</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">pop</span> <span class="p">(</span><span class="s1">&#39;guido&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">pop</span> <span class="p">(</span><span class="s1">&#39;guido&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">pop</span> <span class="p">(</span><span class="s1">&#39;edsger&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">pop</span> <span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tel</span><span class="o">.</span><span class="n">pop</span> <span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

    <span class="c1"># Check compound keys (issue 281)</span>
    
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">d</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3777</span>
    <span class="n">d</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">4777</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">d</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">d</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3777</span>
    <span class="n">d</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">4777</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">d</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="c1"># Check exceptions</span>
    <span class="n">knights</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;robin&#39;</span><span class="p">:</span> <span class="s1">&#39;the brave&#39;</span><span class="p">,</span> <span class="s1">&#39;gallahad&#39;</span><span class="p">:</span> <span class="s1">&#39;the pure&#39;</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span> <span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">knights</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;batman&quot;</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span> <span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">knights</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;batman&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">expectException</span> <span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">knights</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;batman&quot;</span><span class="p">,</span> <span class="s2">&quot;the gullible&quot;</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="diverse-issues">
<span id="autotest-docstrings"></span><h2>4.15. Diverse issues<a class="headerlink" href="#diverse-issues" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Testlet: div_issues</span><a class="headerlink" href="#id16" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span><span class="p">,</span> <span class="fm">__new__</span><span class="p">,</span> <span class="n">__envir__</span><span class="p">,</span> <span class="n">__symbols__</span>

<span class="kn">from</span> <span class="nn">div_issues.issue55</span> <span class="k">import</span> <span class="o">*</span>        <span class="c1"># Names not exported from package&#39;s __init__.py, no output, only compilation check</span>
<span class="kn">from</span> <span class="nn">div_issues.issue387</span> <span class="k">import</span> <span class="n">run387</span>  <span class="c1"># Support __module__ and __qualname__ for introspection (only __module__ done and</span>
                                        <span class="c1"># __name__ set to &#39;__main__ for main module&#39;</span>
<span class="kn">from</span> <span class="nn">div_issues.issue559</span> <span class="k">import</span> <span class="n">run559</span>  <span class="c1"># Imported names not reexported form the __init__.py of a module</span>

<span class="kn">import</span> <span class="nn">re</span>
                           
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 24&#39;</span><span class="p">)</span>   <span class="c1"># Non keyword switch generates javascript SyntaxError</span>
    <span class="n">switch</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">switch</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 27&#39;</span><span class="p">)</span>   <span class="c1"># Python list.index () not translated correctly</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="s1">&#39;four&#39;</span><span class="p">]</span> <span class="o">.</span><span class="n">index</span> <span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 36&#39;</span><span class="p">)</span>   <span class="c1"># Bug in compiling lambda default argument values</span>
    <span class="c1"># Workaround for Python closures capturing variables rather than values</span>
    <span class="c1"># An extra enclosing scope is created to remember the value of the variable</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="c1"># results.append (lambda: i)                # Works nowhere</span>
        <span class="c1"># results.append (lambda j = i: j)          # Works only in Python</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span> <span class="p">((</span><span class="k">lambda</span> <span class="n">j</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">j</span><span class="p">)</span> <span class="p">(</span><span class="n">i</span><span class="p">))</span>  <span class="c1"># Works in Python and Transcrypt</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">result</span> <span class="p">()</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>        

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 37&#39;</span><span class="p">)</span>   <span class="c1"># Python integer division not translated correctly</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">15</span> <span class="o">//</span> <span class="mi">7</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 40&#39;</span><span class="p">)</span>   <span class="c1"># Python parentheses dropped during translation</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">65</span> <span class="o">/</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 50&#39;</span><span class="p">)</span>   <span class="c1"># Wrong answer with parentheses moved during translation</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">240</span> <span class="o">+</span> <span class="mi">30</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">30</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 51&#39;</span><span class="p">)</span>   <span class="c1"># Wrong answer with set() compare</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">}</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">})</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 52&#39;</span><span class="p">)</span>   <span class="c1"># Non keyword &#39;default&#39; generates javascript SyntaxError</span>
    <span class="n">switch</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;switch&#39;</span><span class="p">,</span> <span class="s1">&#39;case&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">switch</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 54&#39;</span><span class="p">)</span>   <span class="c1"># Type dict missing clear(), setdefault()</span>
    <span class="n">aDict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">33</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aDict</span><span class="p">)</span>
    <span class="n">aDict</span><span class="o">.</span><span class="n">clear</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aDict</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 60&#39;</span><span class="p">)</span>   <span class="c1"># Python bool() not translated</span>
    <span class="n">three</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">one</span> <span class="o">=</span> <span class="n">three</span> <span class="o">&amp;</span> <span class="mi">1</span>
    <span class="n">seven</span> <span class="o">=</span> <span class="n">three</span> <span class="o">|</span> <span class="mi">4</span>
    <span class="n">eight</span> <span class="o">=</span> <span class="n">one</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span>
    <span class="n">four</span> <span class="o">=</span> <span class="n">eight</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
    <span class="n">aTrue</span> <span class="o">=</span> <span class="nb">bool</span> <span class="p">(</span><span class="n">three</span> <span class="o">&amp;</span> <span class="n">one</span><span class="p">)</span>
    <span class="n">aFalse</span> <span class="o">=</span> <span class="nb">bool</span> <span class="p">(</span><span class="n">three</span> <span class="o">&amp;</span> <span class="n">four</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">three</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">one</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">seven</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">eight</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">four</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">aTrue</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">aFalse</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 65&#39;</span><span class="p">)</span>   <span class="c1"># Adding two lists with + not supported</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,]</span> <span class="o">+</span> <span class="n">aList</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">aString</span> <span class="o">=</span> <span class="s1">&#39;Crocodile&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Tiger&#39;</span> <span class="o">+</span> <span class="n">aString</span> <span class="o">+</span> <span class="s1">&#39;Elephant&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">aString</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aString</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 76&#39;</span><span class="p">)</span>   <span class="c1"># Python //= not translated correctly</span>
    <span class="n">initially17</span> <span class="o">=</span> <span class="mi">17</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">initially17</span><span class="p">)</span>
    <span class="n">initially17</span> <span class="o">//=</span> <span class="mi">2</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">initially17</span><span class="p">)</span>
    <span class="n">initially17</span> <span class="o">//=</span> <span class="mi">2</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">initially17</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 112&#39;</span><span class="p">)</span>  <span class="c1"># When using -e6, iterating TypedArrays or other non-list Iterables doesn&#39;t work</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">executor_name</span> <span class="o">==</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">transpiler_name</span><span class="p">:</span> <span class="c1"># CPython doesn&#39;t know Int8Array</span>
            <span class="n">x</span> <span class="o">=</span> <span class="fm">__new__</span> <span class="p">(</span><span class="n">Int8Array</span> <span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
        
        <span class="n">x</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">x</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
        
        <span class="n">y</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">y</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">j</span><span class="p">)</span>
            
    <span class="k">except</span><span class="p">:</span> <span class="c1"># No &#39;Exception&#39; can be used behind this, since this is a JavaScript exception, and no subclass of Exception. ??? How desirable is this behaviour?</span>
        <span class="k">pass</span>
        <span class="c1"># autoTester.check (&#39;Detected iterating over non-iterable&#39;) # Minifier masks this exception, so we&#39;ll have to pass</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 122&#39;</span><span class="p">)</span>  <span class="c1"># Problem with yield (or rather with slicing beyond list end)</span>
    
    <span class="k">def</span> <span class="nf">chunks</span> <span class="p">(</span><span class="n">aList</span><span class="p">,</span> <span class="n">chunkLength</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span> <span class="p">(</span><span class="n">aList</span><span class="p">),</span> <span class="n">chunkLength</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">aList</span> <span class="p">[</span><span class="n">index</span> <span class="p">:</span> <span class="n">index</span> <span class="o">+</span> <span class="n">chunkLength</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span> <span class="p">([</span><span class="nb">chr</span> <span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">97</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">26</span><span class="p">)],</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 123&#39;</span><span class="p">)</span>  <span class="c1"># Python % shouldn&#39;t behave like JS %</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">10</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span> <span class="o">%</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">%</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span> <span class="o">%</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span> <span class="o">%</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 125&#39;</span><span class="p">)</span>  <span class="c1"># Strings not iterable</span>
    <span class="n">abc</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
    
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">abc</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">abc</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 127&#39;</span><span class="p">)</span>  <span class="c1"># Can&#39;t use the key &#39;keys&#39; in a dict</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="s2">&quot;include_docs&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">,</span> <span class="s2">&quot;key2&quot;</span><span class="p">],</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">})</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 134&#39;</span><span class="p">)</span>  <span class="c1"># Operator %= translated incorrectly</span>
    <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">,</span> <span class="n">x5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="n">x0</span> <span class="o">%=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">x1</span> <span class="o">%=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">x2</span> <span class="o">%=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">x3</span> <span class="o">%=</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span> <span class="n">x4</span> <span class="o">%=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">x5</span> <span class="o">%=</span> <span class="o">-</span><span class="mi">1000</span> 
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 136&#39;</span><span class="p">)</span>  <span class="c1"># Method dict.get(key[, default]) not implemented</span>
    <span class="n">aDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;ape&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;banana&#39;</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aDict</span><span class="o">.</span><span class="n">get</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;noApe&#39;</span><span class="p">),</span> <span class="n">aDict</span><span class="o">.</span><span class="n">get</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="n">aDict</span><span class="o">.</span><span class="n">get</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;noCarot&#39;</span><span class="p">),</span> <span class="n">aDict</span><span class="o">.</span><span class="n">get</span> <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 144&#39;</span><span class="p">)</span>
    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>    
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Issue 145&lt;br&gt;&#39;</span><span class="p">)</span>  <span class="c1"># List sorting incorrect in case of multiple columns</span>
    
    <span class="k">class</span> <span class="nc">SortTest</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="o">=</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nChars</span> <span class="o">=</span> <span class="mi">10</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nCols</span> <span class="o">=</span> <span class="mi">10</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nRows</span> <span class="o">=</span> <span class="mi">30</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">pseudoRandom</span> <span class="o">=</span> <span class="mi">0</span>
            
            <span class="k">def</span> <span class="nf">randomWord</span> <span class="p">():</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="k">for</span> <span class="n">iChar</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nChars</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pseudoRandom</span> <span class="o">=</span> <span class="p">(</span><span class="mi">81212</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">pseudoRandom</span> <span class="o">+</span> <span class="mi">28411</span><span class="p">)</span> <span class="o">%</span> <span class="mi">134456</span>
<span class="c1">#                   self.pseudoRandom = (1234 * self.pseudoRandom + 57) % 137           # Deliberately short period</span>
                    <span class="n">word</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">pseudoRandom</span> <span class="o">%</span> <span class="mi">26</span><span class="p">]</span>
                <span class="k">return</span> <span class="n">word</span> 
        
            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="n">randomWord</span> <span class="p">()</span> <span class="k">for</span> <span class="n">iCol</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">)]</span> <span class="k">for</span> <span class="n">iRow</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">)]</span>
                
        <span class="k">def</span> <span class="nf">sort</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">iCol</span> <span class="ow">in</span> <span class="nb">reversed</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">sort</span> <span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span> <span class="p">[</span><span class="n">iCol</span><span class="p">])</span>
            
    <span class="n">sortTest</span> <span class="o">=</span> <span class="n">SortTest</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;Unsorted:&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">sortTest</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&lt;br&gt;&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span> <span class="p">([</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">row</span><span class="p">])))</span>
        
    <span class="n">sortTest</span><span class="o">.</span><span class="n">sort</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;Sorted:&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">sortTest</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&lt;br&gt;&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span> <span class="p">([</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">row</span><span class="p">])))</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Issue 148&lt;br&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Allow key a.o. key &#39;items&#39; in dict</span>
    
    <span class="n">aDict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">aKey</span><span class="p">,</span> <span class="n">aValue</span> <span class="ow">in</span> <span class="n">aDict</span><span class="o">.</span><span class="n">items</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">aKey</span><span class="p">,</span> <span class="n">aValue</span><span class="p">))</span>   
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Issue 169&lt;br&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Add support for float(&#39;inf&#39;) and float(&#39;-inf&#39;)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nb">float</span> <span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)),</span> <span class="nb">int</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nb">float</span> <span class="p">(</span><span class="s1">&#39;-inf&#39;</span><span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;Issue 178&lt;br&gt;&#39;</span><span class="p">)</span>  <span class="c1"># List Comprehensions / Operator Precedence Bug</span>
    
    <span class="n">bitmaps</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="mi">2</span> <span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">4</span> <span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
    <span class="p">]</span>
    
    <span class="k">for</span> <span class="n">flags</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">233</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span>  <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span> <span class="p">([</span><span class="n">x</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">bitmaps</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">flags</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]))</span>
        
    <span class="k">def</span> <span class="nf">issue256</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 256&#39;</span><span class="p">)</span>

        <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">def</span> <span class="nf">f1</span> <span class="p">(</span><span class="n">value</span><span class="p">):</span>  <span class="c1"># Generate parens after return</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">C</span> <span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;second&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">capitalize</span> <span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span>
            
        <span class="k">def</span> <span class="nf">f2</span> <span class="p">(</span><span class="n">value</span><span class="p">):</span>  <span class="c1"># Generate parens after return</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">C</span> <span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;second&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">capitalize</span> <span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Second&#39;</span>
            
        <span class="k">def</span> <span class="nf">f3</span> <span class="p">(</span><span class="n">value</span><span class="p">):</span>  <span class="c1"># Generate NO parens after return</span>
            <span class="k">return</span> <span class="n">C</span> <span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;second&#39;</span>
            
        <span class="k">def</span> <span class="nf">f4</span> <span class="p">(</span><span class="n">value</span><span class="p">):</span>  <span class="c1"># Generate NO parens after return</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">C</span> <span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;second&#39;</span><span class="p">)</span>
                
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f1</span> <span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f1</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f2</span> <span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f2</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f3</span> <span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f4</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
        
    <span class="n">issue256</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 274&#39;</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">del</span> <span class="n">a</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Still alive&#39;</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 276&#39;</span><span class="p">)</span>  <span class="c1"># Partial, other part tested in testlet &#39;operator_overloading&#39;</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">**</span> <span class="mi">3</span>
    <span class="n">a</span> <span class="o">**=</span> <span class="mi">4</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 277&#39;</span><span class="p">)</span>
    <span class="n">new</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">new</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 279&#39;</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="ne">TypeError</span> <span class="o">=</span> <span class="mi">111</span>
        <span class="n">js_TypeError</span> <span class="o">=</span> <span class="mi">222</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">TypeError</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">js_TypeError</span><span class="p">)</span>  <span class="c1"># ... Generated code should use py_TypeError and TypeError respectively    </span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Still alive&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 301&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">filter_word</span> <span class="p">(</span><span class="n">word0</span><span class="p">,</span> <span class="n">word1</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span> <span class="p">(</span><span class="n">word0</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span> <span class="p">(</span><span class="n">word1</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">char0</span><span class="p">,</span> <span class="n">char1</span> <span class="ow">in</span> <span class="nb">zip</span> <span class="p">(</span><span class="n">word0</span><span class="p">,</span> <span class="n">word1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">char0</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span> <span class="ow">and</span> <span class="n">char0</span> <span class="o">!=</span> <span class="n">char1</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">filter_word</span> <span class="p">(</span><span class="s1">&#39;bee&#39;</span><span class="p">,</span> <span class="s1">&#39;beer&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">filter_word</span> <span class="p">(</span><span class="s1">&#39;wine&#39;</span><span class="p">,</span> <span class="s1">&#39;wine&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">filter_word</span> <span class="p">(</span><span class="s1">&#39;win_&#39;</span><span class="p">,</span> <span class="s1">&#39;wind&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">filter_word</span> <span class="p">(</span><span class="s1">&#39;_in_&#39;</span><span class="p">,</span> <span class="s1">&#39;kind&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">filter_word</span> <span class="p">(</span><span class="s1">&#39;min_&#39;</span><span class="p">,</span> <span class="s1">&#39;kind&#39;</span><span class="p">))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 306&#39;</span><span class="p">)</span>
    <span class="n">dict_306</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Abraham&#39;</span><span class="p">:</span> <span class="s1">&#39;Lincoln&#39;</span><span class="p">,</span> <span class="s1">&#39;Barack&#39;</span><span class="p">:</span> <span class="s1">&#39;O</span><span class="se">\&#39;</span><span class="s1">Bama&#39;</span><span class="p">,</span> <span class="s1">&#39;Thomas&#39;</span><span class="p">:</span> <span class="s1">&#39;Jefferson&#39;</span><span class="p">}</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span> <span class="p">(</span><span class="n">dict_306</span><span class="o">.</span><span class="n">popitem</span> <span class="p">())</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">results</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;That</span><span class="se">\&#39;</span><span class="s1">s it&#39;</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 314&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="mi">123</span><span class="p">)))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="mf">12.3</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">)))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s1">&#39; 123&#39;</span><span class="p">)))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
                        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s1">&#39;drie&#39;</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 316&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">filter</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">]])))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">filter</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="nb">len</span> <span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">]])))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 317&#39;</span><span class="p">)</span>

    <span class="n">mylist</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">mylist</span><span class="o">.</span><span class="n">remove</span> <span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 331&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">max</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">max</span> <span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">max</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">min</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">min</span> <span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">min</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;issue 356&#39;</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;How are you?&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 369&#39;</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">values</span>

        <span class="k">def</span> <span class="nf">__iter__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">item</span>

        <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Vector</span> <span class="p">(</span><span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)))</span>
            
        <span class="k">def</span> <span class="nf">__str__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
        
    <span class="c1">#__pragma__ (&#39;opov&#39;)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">str</span> <span class="p">(</span><span class="n">Vector</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">Vector</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span>

    <span class="c1">#__pragma__ (&#39;noopov&#39;)</span>

    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 387&#39;</span><span class="p">)</span>
    <span class="n">run387</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 391&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="mi">1</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 392&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Example</span><span class="p">:</span>

        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
        <span class="n">rec</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span> <span class="p">(</span><span class="s1">&#39;(?P&lt;decimal&gt;\d+)&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">ASCII</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">match</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rec</span><span class="o">.</span><span class="n">match</span> <span class="p">(</span><span class="s1">&#39;42&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERROR: RE does not match&#39;</span><span class="p">)</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groupdict</span> <span class="p">()</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s2">&quot;before: self.d=&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s2">&quot;before: e=&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">update</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s2">&quot;after: self.d=&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>


    <span class="n">example</span> <span class="o">=</span> <span class="n">Example</span> <span class="p">()</span>
    <span class="n">example</span><span class="o">.</span><span class="n">run</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 398&#39;</span><span class="p">)</span>
    <span class="c1"># This used to give extra comma&#39;s so invalid syntax (no check calls needed)</span>
    
    <span class="k">class</span> <span class="nc">Test398</span> <span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="c1">#__pragma__ (&#39;skip&#39;)</span>
        <span class="k">def</span> <span class="nf">method1</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="k">def</span> <span class="nf">method2</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="c1">#__pragma__ (&#39;noskip&#39;)</span>
        <span class="k">pass</span>
        
    <span class="n">test398</span> <span class="o">=</span> <span class="n">Test398</span> <span class="p">()</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 399&#39;</span><span class="p">)</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;keycheck&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">surpressWarning</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">}[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">surpressWarning</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">}[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;no problem&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;not found&#39;</span><span class="p">)</span>    
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 413&#39;</span><span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokeycheck&#39;</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__len__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">3</span>
        
        <span class="k">def</span> <span class="nf">__getitem__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IndexError</span>
            <span class="k">return</span> <span class="s1">&#39;This is item &#39;</span> <span class="o">+</span> <span class="nb">str</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span> <span class="p">()</span>

    <span class="c1">#__pragma__ (&#39;opov&#39;)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Attempt 1:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">foo</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Attempt 2:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">foo</span><span class="p">)):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">foo</span> <span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="c1">#__pragma__(&#39;noopov&#39;)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 414&#39;</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span> <span class="p">()</span>
    <span class="n">foo</span><span class="o">.</span><span class="n">bar</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
    <span class="n">foo</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span>
    <span class="n">foo</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;world&#39;</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">dir</span> <span class="p">(</span><span class="n">foo</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)])</span>

    <span class="c1">#__pragma__(&#39;kwargs&#39;)</span>
    <span class="k">def</span> <span class="nf">foo</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span> <span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">default</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">foo</span><span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">foo</span><span class="p">(</span><span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;Hello World&#39;</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 460&#39;</span><span class="p">)</span>
    
    <span class="n">s460</span> <span class="o">=</span> <span class="s1">&#39;car&#39;</span>
    <span class="n">l460</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">]</span>
    <span class="n">t460</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">d460</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;mmminusOne&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;bbbike&#39;</span><span class="p">}</span>
    
    <span class="c1">#__pragma__ (&#39;opov&#39;)</span>
    
    <span class="n">l460</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    
    <span class="n">d460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;minusOne&#39;</span>
    <span class="n">d460</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bike&#39;</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">l460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">t460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">d460</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">s460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">l460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">l460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">t460</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">t460</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">d460</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>

    <span class="c1">#__pragma__ (&#39;noopov&#39;)</span>

    <span class="c1">#__pragma__ (&#39;keycheck&#39;)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d460</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">d460</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d460</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">d460</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">222</span><span class="p">)</span>
        
    <span class="c1">#__pragma__ (&#39;nokeycheck&#39;)</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;1,2,34,5,6&#39;</span>

    <span class="k">if</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">executor_name</span> <span class="o">==</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">transpiler_name</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>    <span class="c1">#__:opov</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>    <span class="c1">#__:opov</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span>

    <span class="c1">#__pragma__ (&#39;opov&#39;)</span>
        
    <span class="k">if</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">executor_name</span> <span class="o">==</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">transpiler_name</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>    <span class="c1">#__:noopov</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>    <span class="c1">#__:noopov</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span>        <span class="c1">#__:noopov</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span>        <span class="c1">#__:noopov</span>

    <span class="c1">#__pragma__ (&#39;noopov&#39;)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 494&#39;</span><span class="p">)</span>  <span class="c1"># {None} in formatted string gets converted to {}</span>
    
    <span class="c1"># Worked, should still work</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span><span class="s1">&#39;a=</span><span class="si">{a}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Failed, should now work</span>
    <span class="n">a</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span><span class="s1">&#39;a=</span><span class="si">{a}</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 515&#39;</span><span class="p">)</span>  <span class="c1"># Method format() is failing to replace the replacement fields if the value is None</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{}</span><span class="s1">; b: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{}</span><span class="s1">; b: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{0}</span><span class="s1">; b: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{0}</span><span class="s1">; b: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{}</span><span class="s1">; b: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{0}</span><span class="s1">; b: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{}</span><span class="s1">; b: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{0}</span><span class="s1">; b: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;a: </span><span class="si">{}</span><span class="s1">; b: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Issue 559&#39;</span><span class="p">)</span>  <span class="c1"># Reexport everything imported, e.g. by the __init__.py of a module</span>
    <span class="n">run559</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="diverse-pulls">
<h2>4.16. Diverse pulls<a class="headerlink" href="#diverse-pulls" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Testlet: div_pulls</span><a class="headerlink" href="#id17" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Also contains small enhancements</span>

<span class="kn">import</span> <span class="nn">div_pulls.pull575_reexport_modules</span> <span class="k">as</span> <span class="nn">pull575</span>

<span class="s1">&#39;This is a single line docstring&#39;</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This</span>
<span class="sd">    is </span>
<span class="sd">    a </span>
<span class="sd">    multiline</span>
<span class="sd">    docstring</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="s1">&#39;This is a single line comment&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This</span>
<span class="sd">        is </span>
<span class="sd">        a </span>
<span class="sd">        multiline</span>
<span class="sd">        docstring</span>
<span class="sd">        &#39;&#39;&#39;</span>
    <span class="s1">&#39;This is a single line docstring&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">This</span>
<span class="sd">is </span>
<span class="sd">a </span>
<span class="sd">multiline</span>
<span class="sd">docstring</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">(</span><span class="mf">5.5</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>   
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Pull 56&#39;</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;abcdefghij&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span> <span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span> <span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span> <span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">s</span> <span class="p">[::</span><span class="mi">2</span><span class="p">])</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Pull 59&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">filter</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">))))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">map</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">3</span><span class="p">))))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Pull 561&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">brackets</span> <span class="p">(</span><span class="n">word</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;sideeffect&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="n">word</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">brackets</span> <span class="p">(</span><span class="s1">&#39;anything&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">lower</span> <span class="p">())</span>   <span class="c1">#__:opov</span>
    
    <span class="n">pull575</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="docstrings-doc-attribute-generated-optionally">
<h2>4.17. Docstrings: __doc__ attribute generated optionally<a class="headerlink" href="#docstrings-doc-attribute-generated-optionally" title="Permalink to this headline">¶</a></h2>
<p>To keep the generated code lean, generation of <em>__doc__</em> attributes is controlled per module by <em>__pragma__ (‘docat’)</em> or by the <em>-d</em> / <em>–docat</em> command line switch, combined with user per module of <em>__pragma__ (‘nodocat’)</em></p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Testlet: docstrings</span><a class="headerlink" href="#id18" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;Just a module</span>
<span class="sd">to test docstrings&#39;&#39;&#39;</span>
<span class="sd">&#39;&#39;&#39;Not visible&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;docat&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="n">p</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Just a function</span>
<span class="sd">        called f&#39;&#39;&#39;</span>
        <span class="sd">&#39;&#39;&#39;Not visible&#39;&#39;&#39;</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span> 

    <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;Just a class</span>
<span class="sd">        called C&#39;&#39;&#39;</span>
        <span class="sd">&#39;&#39;&#39;Not visible&#39;&#39;&#39;</span>
        <span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;Just a method</span>
<span class="sd">            called g&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;Not visible&#39;&#39;&#39;</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">q</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">()</span>

    <span class="n">f</span> <span class="p">(</span><span class="s1">&#39;Doc&#39;</span><span class="p">)</span>
    <span class="n">C</span> <span class="p">()</span> <span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="s1">&#39;strings&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="exceptions-exception-class-hierarchy-finally">
<h2>4.18. Exceptions: exception class hierarchy, finally<a class="headerlink" href="#exceptions-exception-class-hierarchy-finally" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Testlet: exceptions</span><a class="headerlink" href="#id19" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__envir__</span><span class="p">,</span> <span class="fm">__new__</span><span class="p">,</span> <span class="n">__pragma__</span>

<span class="k">class</span> <span class="nc">Ex1</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>
        
<span class="k">class</span> <span class="nc">Ex2</span> <span class="p">(</span><span class="n">Ex1</span><span class="p">):</span>
    <span class="k">pass</span>
    
<span class="k">class</span> <span class="nc">Ex3</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>
    
<span class="k">class</span> <span class="nc">Table</span> <span class="p">(</span><span class="ne">BaseException</span><span class="p">):</span>    <span class="c1"># Any Python exception MUST inherit from BaseException</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="n">args</span>
        
    <span class="k">def</span> <span class="nf">__repr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Table&#39;</span> <span class="o">+</span> <span class="nb">repr</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test1</span> <span class="p">():</span>
    <span class="k">raise</span> <span class="p">(</span><span class="ne">Exception</span> <span class="p">(</span><span class="s1">&#39;mary&#39;</span><span class="p">))</span>
    
<span class="k">def</span> <span class="nf">test2</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">test1</span> <span class="p">()</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">222</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">test2</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">Ex2</span> <span class="p">(</span><span class="s1">&#39;had&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;little&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">333</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">Ex1</span> <span class="p">(</span><span class="s1">&#39;lamb&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex2</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;his&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;fleece&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;was&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">444</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test3</span> <span class="p">():</span>
        <span class="k">raise</span> <span class="n">Ex3</span> <span class="p">(</span><span class="s1">&#39;as&#39;</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">555</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">test3</span> <span class="p">()</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;snow&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;everywhere&#39;</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">666</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">Ex3</span> <span class="p">(</span><span class="s1">&#39;that&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;mary&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;went&#39;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;the&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">777</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Ex3</span> <span class="p">(</span><span class="s1">&#39;lamb&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;was&#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;to&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex3</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>    <span class="c1"># We should get here, exception not swallowed</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;go&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="fm">__new__</span> <span class="p">(</span><span class="n">Table</span> <span class="p">(</span><span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="s1">&#39;followed&#39;</span><span class="p">,</span> <span class="s1">&#39;her&#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">Ex1</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;to&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Table</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>  <span class="c1"># Pure JavaScript exception, if no Python __class__</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;school&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Ex3</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">)</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Assert error 1&#39;</span>
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Assert error 2&#39;</span>
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">4</span>
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">888</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;hello world 1&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;error 1&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;no error 1&#39;</span><span class="p">)</span>
        
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;hello world 2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Prevent unreachable code warning</span>
            <span class="k">raise</span> <span class="ne">Exception</span> <span class="p">()</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;error 2&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;no error 2&#39;</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">raiseIt</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raiseIt</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span> <span class="p">()</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;no error 3&#39;</span><span class="p">)</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;anyhow 3&#39;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;error 3&#39;</span><span class="p">)</span>
            
</pre></div>
</div>
</div>
</div>
<div class="section" id="extended-slices-facilitating-numscrypt-and-such">
<h2>4.19. Extended slices: facilitating NumScrypt and such<a class="headerlink" href="#extended-slices-facilitating-numscrypt-and-such" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Testlet: extended_slices</span><a class="headerlink" href="#id20" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span><span class="p">,</span> <span class="n">__envir__</span>

<span class="k">def</span> <span class="nf">indices</span> <span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">executor_name</span> <span class="o">==</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">transpiler_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">tuple</span> <span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">if</span> <span class="nb">type</span> <span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="k">else</span> <span class="n">key</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">indices</span> <span class="p">(</span><span class="mi">1000000000</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">tuple</span> <span class="p">([</span><span class="n">indices</span> <span class="p">(</span><span class="n">subkey</span><span class="p">)</span> <span class="k">for</span> <span class="n">subkey</span> <span class="ow">in</span> <span class="n">key</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">key</span>

<span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoTester</span> <span class="o">=</span> <span class="n">autoTester</span>

    <span class="k">def</span> <span class="nf">__getitem__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;getitem (&#39;</span><span class="p">,</span> <span class="n">indices</span> <span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1234567</span>
        
    <span class="k">def</span> <span class="nf">__setitem__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;setitem (&#39;</span><span class="p">,</span> <span class="n">indices</span> <span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="n">d</span> <span class="o">=</span> <span class="n">e</span> <span class="o">=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">g</span> <span class="o">=</span> <span class="n">h</span> <span class="o">=</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">=</span> <span class="n">l</span> <span class="o">=</span> <span class="n">Test</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>

    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
            
    <span class="n">a</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span> <span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">c</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span> <span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">e</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="n">g</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">h</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">i</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">k</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">l</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="general-functions-sort-and-sorted">
<h2>4.20. General functions: sort and sorted<a class="headerlink" href="#general-functions-sort-and-sorted" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Testlet: general_functions</span><a class="headerlink" href="#id21" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="n">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foo2</span> <span class="o">=</span> <span class="s1">&#39;bar2&#39;</span>

<span class="k">class</span> <span class="nc">B</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">foo3</span><span class="o">=</span><span class="s1">&#39;bar3&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foo4</span> <span class="o">=</span> <span class="s1">&#39;bar4&#39;</span>
        
<span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__len__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">42</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;len&#39;</span><span class="p">)</span>

    <span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;!&#39;</span><span class="p">]</span>
    <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span><span class="n">C</span><span class="p">()]</span>
    <span class="n">collections</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="nb">tuple</span><span class="p">(),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="p">{},</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">string</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">instance</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">collections</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">(</span><span class="n">collection</span><span class="p">))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;sort and sorted&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sun&#39;</span><span class="p">,</span> <span class="s1">&#39;earth&#39;</span><span class="p">,</span> <span class="s1">&#39;moon&#39;</span><span class="p">]</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">a</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">b</span><span class="p">))</span>
    
    <span class="n">a</span><span class="o">.</span><span class="n">sort</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
    
    <span class="n">b</span><span class="o">.</span><span class="n">sort</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sorted</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    
    <span class="n">a</span><span class="o">.</span><span class="n">sort</span> <span class="p">(</span><span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
    
    <span class="n">b</span><span class="o">.</span><span class="n">sort</span> <span class="p">(</span><span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
    
    <span class="n">b</span><span class="o">.</span><span class="n">sort</span> <span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span> <span class="p">(</span><span class="n">x</span><span class="p">))</span> 
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="n">b</span><span class="o">.</span><span class="n">sort</span> <span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span> <span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> 
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;dir&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">dir</span> <span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">entry</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">dir</span> <span class="p">(</span><span class="n">A</span><span class="p">())</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">entry</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">dir</span> <span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">entry</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">dir</span> <span class="p">(</span><span class="n">B</span><span class="p">())</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">entry</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)])</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;any, all, sum&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ape&#39;</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;mice&#39;</span><span class="p">]</span>
    <span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;vim&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;jet&#39;</span><span class="p">]</span>
    <span class="n">list3</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
    <span class="n">list4</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]]</span>   <span class="c1"># Truthyness into play</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="nb">any</span> <span class="p">(</span><span class="n">list1</span><span class="p">),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">list1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">list2</span><span class="p">,</span> <span class="nb">any</span> <span class="p">(</span><span class="n">list2</span><span class="p">),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">list2</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">list3</span><span class="p">,</span> <span class="nb">any</span> <span class="p">(</span><span class="n">list3</span><span class="p">),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">list3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">list4</span><span class="p">,</span> <span class="nb">any</span> <span class="p">(</span><span class="n">list4</span><span class="p">),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">list4</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sum</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
      
    <span class="k">def</span> <span class="nf">generator1</span> <span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">i</span><span class="p">;</span>
            
    <span class="k">def</span> <span class="nf">generator2</span> <span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">yield</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">i</span><span class="p">;</span>
                
    <span class="k">def</span> <span class="nf">generator3</span> <span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="k">yield</span> <span class="mi">0</span><span class="p">;</span>
                
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">generator1</span> <span class="p">(),</span> <span class="nb">any</span> <span class="p">(</span><span class="n">generator1</span> <span class="p">()),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">generator1</span> <span class="p">()))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">generator2</span> <span class="p">(),</span> <span class="nb">any</span> <span class="p">(</span><span class="n">generator2</span> <span class="p">()),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">generator2</span> <span class="p">()))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">generator3</span> <span class="p">(),</span> <span class="nb">any</span> <span class="p">(</span><span class="n">generator3</span> <span class="p">()),</span> <span class="nb">all</span> <span class="p">(</span><span class="n">generator3</span> <span class="p">()))</span>
        
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">sum</span> <span class="p">(</span><span class="n">generator1</span> <span class="p">()))</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;endif&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="global-variable-access-by-using-globals-variable-name">
<h2>4.21. Global variable access by using globals () [&lt;variable_name&gt;]<a class="headerlink" href="#global-variable-access-by-using-globals-variable-name" title="Permalink to this headline">¶</a></h2>
<p>The <em>globals ()</em> function does the same as its counterpart in CPython, with some restrictions.</p>
<p>In the same module:</p>
<ul class="simple">
<li><em>globals ()</em> can retrieve all module-level variables, wether created via <em>globals ()</em> or in the normal way</li>
<li>module-level variables created via <em>globals ()</em> can only be retrieved by <em>globals ()</em>, not as a normal variable</li>
</ul>
<p>From a different module:</p>
<ul class="simple">
<li><em>globals ()</em> can retrieve all module-level variables, wether created by <em>globals ()</em> or in the normal way</li>
<li>module-level variables created by <em>globals ()</em> can be retrieved by <em>globals ()</em>, but also as a normal variable</li>
</ul>
<p>Since imports are done (statically) at compile time, <em>from … import *</em> will not include the variables created (dynamically) via <em>globals ()</em>.
You can however import the whole module, e.g. <em>import &lt;longName&gt; as &lt;shortName&gt;</em> and then use <em>&lt;shortName&gt;.&lt;dynamicallyCreatedVariable&gt;</em>.</p>
<p>The code below shows what’s possible:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Testlet: globals_function, module sub</span><a class="headerlink" href="#id22" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#  __pragma__ (&#39;xglobs&#39;)</span>

<span class="n">xxa</span> <span class="o">=</span> <span class="s1">&#39;subXxa&#39;</span>
<span class="n">xxb</span> <span class="o">=</span> <span class="s1">&#39;subXxb&#39;</span>
<span class="n">xxp</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxq</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxr</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxs</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxp&#39;</span><span class="p">,</span> <span class="s1">&#39;xxq&#39;</span><span class="p">):</span>
    <span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sub</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span> <span class="p">())</span>

<span class="k">def</span> <span class="nf">f</span> <span class="p">():</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxr&#39;</span><span class="p">,</span> <span class="s1">&#39;xxs&#39;</span><span class="p">):</span>
        <span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sub</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span> <span class="p">())</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">f</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check sub 1&#39;</span><span class="p">,</span> <span class="n">xxa</span><span class="p">,</span> <span class="n">xxb</span><span class="p">)</span>    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check sub 2&#39;</span><span class="p">,</span> <span class="o">*</span> <span class="p">[</span><span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxa&#39;</span><span class="p">,</span> <span class="s1">&#39;xxb&#39;</span><span class="p">,</span> <span class="s1">&#39;xxp&#39;</span><span class="p">,</span> <span class="s1">&#39;xxq&#39;</span><span class="p">,</span> <span class="s1">&#39;xxr&#39;</span><span class="p">,</span> <span class="s1">&#39;xxs&#39;</span><span class="p">)])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check sub 3&#39;</span><span class="p">,</span> <span class="o">*</span> <span class="nb">sorted</span> <span class="p">([</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">globals</span> <span class="p">()</span> <span class="o">.</span><span class="n">items</span> <span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;xx&#39;</span><span class="p">)]))</span>

    
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Testlet: globals_function, main program</span><a class="headerlink" href="#id23" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># __pragma__ (&#39;xglobs&#39;)</span>

<span class="kn">from</span> <span class="nn">globals_function</span> <span class="k">import</span> <span class="n">sub</span>

<span class="n">xxa</span> <span class="o">=</span> <span class="s1">&#39;mainXxa&#39;</span>
<span class="n">xxb</span> <span class="o">=</span> <span class="s1">&#39;mainXxb&#39;</span>
<span class="n">xxp</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxq</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxr</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">xxs</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxp&#39;</span><span class="p">,</span> <span class="s1">&#39;xxq&#39;</span><span class="p">):</span>
    <span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;main</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span> <span class="p">())</span>    
    
<span class="k">def</span> <span class="nf">f</span> <span class="p">():</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxr&#39;</span><span class="p">,</span> <span class="s1">&#39;xxs&#39;</span><span class="p">):</span>
        <span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;main</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span> <span class="p">())</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">f</span> <span class="p">()</span>                 <span class="c1"># All vars of main added</span>
    <span class="n">sub</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span> <span class="c1"># Shouldn&#39;t override vars of main</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check main 1&#39;</span><span class="p">,</span> <span class="n">xxa</span><span class="p">,</span> <span class="n">xxb</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check main 2&#39;</span><span class="p">,</span> <span class="o">*</span> <span class="p">[</span><span class="nb">globals</span> <span class="p">()</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xxa&#39;</span><span class="p">,</span> <span class="s1">&#39;xxb&#39;</span><span class="p">,</span> <span class="s1">&#39;xxp&#39;</span><span class="p">,</span> <span class="s1">&#39;xxq&#39;</span><span class="p">,</span> <span class="s1">&#39;xxr&#39;</span><span class="p">,</span> <span class="s1">&#39;xxs&#39;</span><span class="p">)])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check main 3&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxa</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxb</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxp</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxq</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxr</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">xxs</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Check main 4&#39;</span><span class="p">,</span> <span class="o">*</span> <span class="nb">sorted</span> <span class="p">([</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">globals</span> <span class="p">()</span> <span class="o">.</span><span class="n">items</span> <span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;xx&#39;</span><span class="p">)]))</span>
    
</pre></div>
</div>
</div>
<p>The output will be:</p>
<div class="figure">
<img alt="Output of 'global_functions autotest'" src="_images/autotest_global_functions.png" />
</div>
</div>
<div class="section" id="indices-and-slices-lhs-rhs-basic-and-extended">
<h2>4.22. Indices and slices: LHS, RHS, basic and extended<a class="headerlink" href="#indices-and-slices-lhs-rhs-basic-and-extended" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Testlet: indices_and_slices</span><a class="headerlink" href="#id24" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="c1"># Right hand side slices</span>
    <span class="nb">all</span> <span class="o">=</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">32</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">all</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">all</span> <span class="p">[</span><span class="mi">8</span> <span class="p">:</span> <span class="mi">24</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">all</span> <span class="p">[</span><span class="mi">8</span> <span class="p">:</span> <span class="mi">24</span> <span class="p">:</span> <span class="mi">2</span><span class="p">])</span> 
    
    <span class="c1"># Left hand side slices</span>
    <span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    
    <span class="n">aList</span> <span class="p">[</span><span class="mi">4</span> <span class="p">:</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    
    <span class="n">aList</span> <span class="p">[</span><span class="mi">2</span> <span class="p">:</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    
    <span class="n">aList</span> <span class="p">[</span><span class="mi">0</span> <span class="p">:</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    
    <span class="n">aList</span> <span class="p">[</span> <span class="p">:</span> <span class="p">:</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="iterators-and-generators">
<h2>4.23. Iterators and generators<a class="headerlink" href="#iterators-and-generators" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Testlet: iterators_and_generators</span><a class="headerlink" href="#id25" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">class</span> <span class="nc">Iterable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aList</span> <span class="o">=</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__iter__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Iterator</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span> 
        
<span class="k">class</span> <span class="nc">Iterator</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iterable</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iterable</span> <span class="o">=</span> <span class="n">iterable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        
    <span class="k">def</span> <span class="nf">__next__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>    <span class="c1"># Should be auto-wrapped in a next (self) by the compiler </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span> <span class="p">()</span>
            
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterable</span><span class="o">.</span><span class="n">aList</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
            
    <span class="k">def</span> <span class="nf">__iter__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
        
<span class="k">def</span> <span class="nf">exhaustableGenerator</span> <span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">yield</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">exhaustableGenExp</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>   <span class="c1"># Currently still converted to iterator on list comprehension, must also be iterable</span>
    <span class="c1"># So becomes py_iter (aList).</span>
    <span class="c1"># List already has an __iter__ which it will return, it&#39;s a __PyIterator__</span>
    <span class="c1"># To that __PyIterator__, that will already have a __next__, py_iter first adds a next</span>
    <span class="c1"># So exhaustableGenExp is an iterator with a next and a __next__</span>
    <span class="c1"># If we call iter on that, py_iter is calle again py_iter, on an object with a next and a next __next__</span>
    <span class="c1"># For this reason py_iter needs a recursion prevention check</span>

    <span class="n">iterables</span> <span class="o">=</span> <span class="p">[</span><span class="n">Iterable</span> <span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">exhaustableGenerator</span> <span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">)],</span> <span class="n">exhaustableGenExp</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">iterable</span> <span class="ow">in</span> <span class="n">iterables</span><span class="p">:</span>  
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;[1]&#39;</span><span class="p">)</span>
        <span class="n">iterator</span> <span class="o">=</span> <span class="nb">iter</span> <span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">next</span> <span class="p">(</span><span class="n">iterator</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;[2]&#39;</span><span class="p">)</span>
        <span class="n">iterator</span> <span class="o">=</span> <span class="nb">iter</span> <span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">next</span> <span class="p">(</span><span class="n">iterator</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">exception</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            
    <span class="k">for</span> <span class="n">iterable</span> <span class="ow">in</span> <span class="n">iterables</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;[3]&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span>
            
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;[4]&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span>
            
    <span class="c1"># BEGIN issue 196: for loop over iter (), runs OK but needs JavaScript 6. This should be clearly in the docs.</span>
            
    <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="nb">iter</span> <span class="p">(</span><span class="n">vals</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">+=</span> <span class="n">m</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
     
    <span class="c1"># END issue 196</span>
                
    <span class="c1"># BEGIN 1st example with &#39;send&#39;</span>
        
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;gsend&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test0</span> <span class="p">():</span>
        <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="p">(</span><span class="k">yield</span> <span class="n">r</span><span class="p">)</span>

    <span class="n">gen0</span> <span class="o">=</span> <span class="n">test0</span><span class="p">()</span>
    <span class="nb">next</span> <span class="p">(</span><span class="n">gen0</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">gen0</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">gen0</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="mi">2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test1</span> <span class="p">():</span>
        <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="k">yield</span> <span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="n">r</span>

    <span class="n">gen1</span> <span class="o">=</span> <span class="n">test1</span><span class="p">()</span>
    <span class="nb">next</span> <span class="p">(</span><span class="n">gen1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">gen1</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">gen1</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="mi">4</span><span class="p">))</span>
    
    <span class="c1"># END 1st example with &#39;send&#39;</span>
    
    <span class="k">def</span> <span class="nf">subGenerator</span> <span class="p">():</span>
        <span class="k">yield</span> <span class="mi">27</span>
        <span class="k">yield</span> <span class="mi">37</span>
        <span class="k">yield</span> <span class="mi">47</span>
    
    
    <span class="k">def</span> <span class="nf">mainGenerator</span> <span class="p">():</span>
        <span class="k">yield</span> <span class="mi">17</span>
        <span class="k">yield from</span> <span class="n">subGenerator</span> <span class="p">()</span>
        <span class="k">yield</span> <span class="mi">57</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="o">*</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mainGenerator</span> <span class="p">()])</span>
    
    <span class="k">def</span> <span class="nf">subCoroutine</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">38</span><span class="p">)</span>
        <span class="k">yield</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">48</span><span class="p">)</span>
        <span class="k">yield</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">58</span><span class="p">)</span>
        <span class="k">yield</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">68</span><span class="p">)</span>
    
    
    <span class="k">def</span> <span class="nf">mainCoroutine</span> <span class="p">():</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">18</span><span class="p">)</span>
        <span class="k">yield</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">28</span><span class="p">)</span>
        <span class="k">yield from</span> <span class="n">subCoroutine</span> <span class="p">()</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">78</span><span class="p">)</span>
        <span class="k">yield</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">88</span><span class="p">)</span>
        
    <span class="n">m</span> <span class="o">=</span> <span class="n">mainCoroutine</span> <span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">m</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        
</pre></div>
</div>
</div>
</div>
<div class="section" id="lambda-functions-with-all-types-of-args">
<h2>4.24. Lambda functions with all types of args<a class="headerlink" href="#lambda-functions-with-all-types-of-args" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Testlet: lambda_functions</span><a class="headerlink" href="#id26" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span> <span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="mi">222</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="n">list0</span><span class="p">,</span> <span class="n">list1</span><span class="p">,</span> <span class="n">aFunc</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">aFunc</span> <span class="p">(</span><span class="o">*</span><span class="n">elem</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">zip</span> <span class="p">(</span><span class="n">list0</span><span class="p">,</span> <span class="n">list1</span><span class="p">)]</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">z</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">args</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">args</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-comprehensions-multi-loop-and-nested-with-multiple-if-s">
<h2>4.25. List comprehensions: multi-loop and nested with multiple if’s<a class="headerlink" href="#list-comprehensions-multi-loop-and-nested-with-multiple-if-s" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Testlet: list_comprehensions</span><a class="headerlink" href="#id27" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">squares</span><span class="p">)</span>
    
    <span class="n">tuples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span> <span class="k">if</span> <span class="mi">20</span> <span class="o">&lt;</span> <span class="n">y</span>  <span class="o">&lt;</span> <span class="mi">60</span>
                <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="k">if</span> <span class="mi">200</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">600</span> <span class="k">if</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mi">6</span>
    <span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tuples</span><span class="p">)</span>
    
    <span class="n">tricky</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">))]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">tricky</span><span class="p">)</span>
    
    <span class="n">nested</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">3</span><span class="p">)]]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">nested</span><span class="p">)</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">scopeTest</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">a</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">scopeTest</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="local-classes-inside-other-classes-and-functions">
<h2>4.26. Local classes: inside other classes and functions<a class="headerlink" href="#local-classes-inside-other-classes-and-functions" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Testlet: local_classes</span><a class="headerlink" href="#id28" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>       
    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
            <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
                <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
                    
                <span class="k">def</span> <span class="nf">tell</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">e</span><span class="p">)</span>
                    
                <span class="c1"># Limitation: no destructuring assignment inside nested classes</span>
                <span class="n">e</span> <span class="o">=</span> <span class="mi">3</span>
                
            <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
                
            <span class="k">def</span> <span class="nf">tell</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
                
            <span class="n">d</span> <span class="o">=</span> <span class="mi">2</span>
                
        <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
            
        <span class="k">def</span> <span class="nf">tell</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
            
    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">G</span><span class="p">:</span>
            <span class="k">class</span> <span class="nc">H</span><span class="p">:</span>
                <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
                    
                <span class="k">def</span> <span class="nf">tell</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span><span class="p">)</span>
                    
                <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
        
            <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
                
            <span class="k">def</span> <span class="nf">tell</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                
            <span class="n">k</span> <span class="o">=</span> <span class="mi">4</span>
            
        <span class="n">g</span> <span class="o">=</span> <span class="n">G</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">k</span><span class="p">)</span>
        
        <span class="n">h</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">H</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>
        <span class="n">h</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">i</span><span class="p">)</span>
        
        <span class="k">class</span> <span class="nc">P</span> <span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">B</span><span class="p">):</span>
            <span class="k">pass</span>
            
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
                
    <span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">B</span> <span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">a</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>
    <span class="n">b</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>
    <span class="n">c</span><span class="o">.</span><span class="n">tell</span> <span class="p">()</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>

    <span class="n">f</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="metaclasses-overriding-type-new-in-a-descendant-metaclass">
<h2>4.27. Metaclasses: overriding type.__new__ in a descendant metaclass<a class="headerlink" href="#metaclasses-overriding-type-new-in-a-descendant-metaclass" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Testlet: metaclasses</span><a class="headerlink" href="#id29" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">class</span> <span class="nc">UppercaserMeta</span> <span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__new__</span> <span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">attribs</span><span class="p">):</span>
        <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;jsiter&#39;</span><span class="p">)</span>       <span class="c1"># Translate for ... in directly to JavaScript for ... in ... and translate {} to bare {} rather than to dict {}</span>
                                    <span class="c1"># Using bare {} as attribs parameter to __new__ avoids dict attributes masking regular attributes</span>
                                    <span class="c1"># For more flexibility use __pragma__ (&#39;js&#39;, &#39;{}&#39;, &#39;&#39;&#39;...&#39;&#39;&#39;)</span>
        <span class="n">upperAttribs</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">attribKey</span> <span class="ow">in</span> <span class="n">attribs</span><span class="p">:</span>   <span class="c1"># Translates to &#39;for (var attribKey in attribs)&#39; by virtue of __pragma__ (&#39;jsiter&#39;), to iterate over the attributes of a bare JavaScript {}</span>
            <span class="n">upperAttribs</span> <span class="p">[</span><span class="n">attribKey</span> <span class="k">if</span>  <span class="n">attribKey</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">attribKey</span><span class="o">.</span><span class="n">upper</span> <span class="p">()]</span> <span class="o">=</span> <span class="n">attribs</span> <span class="p">[</span><span class="n">attribKey</span><span class="p">]</span>
            
        <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nojsiter&#39;</span><span class="p">)</span>
            
        <span class="k">return</span> <span class="nb">type</span><span class="o">.</span><span class="fm">__new__</span> <span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">upperAttribs</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Uppercaser</span> <span class="p">(</span><span class="n">metaclass</span> <span class="o">=</span> <span class="n">UppercaserMeta</span><span class="p">):</span>
    <span class="k">pass</span>
    
<span class="k">class</span> <span class="nc">Animal</span> <span class="p">(</span><span class="n">Uppercaser</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Thoughts</span><span class="p">:</span>
        <span class="n">quantity</span> <span class="o">=</span> <span class="mi">7</span>

    <span class="c1"># Limitation: no destructuring assignment if metaclass has to alter attributes</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Brown&#39;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="s1">&#39;Moving&#39;</span>

    <span class="k">def</span> <span class="nf">move</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Move&#39;</span>

<span class="k">class</span> <span class="nc">Plant</span> <span class="p">(</span><span class="n">Uppercaser</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Thoughts</span><span class="p">:</span>
        <span class="n">quantity</span> <span class="o">=</span> <span class="mi">6</span>

    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Green&#39;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="s1">&#39;Growing&#39;</span>

    <span class="k">def</span> <span class="nf">grow</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Grow&#39;</span>
        
<span class="k">class</span> <span class="nc">Stone</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">Thoughts</span><span class="p">:</span>
        <span class="n">quantity</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Gray&#39;</span>
    
    <span class="k">def</span> <span class="nf">be</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;Being&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">animal</span> <span class="o">=</span> <span class="n">Animal</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">THOUGHTS</span><span class="o">.</span><span class="n">quantity</span><span class="p">,</span> <span class="n">Animal</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span> <span class="n">animal</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span> <span class="n">animal</span><span class="o">.</span><span class="n">MOVE</span> <span class="p">())</span>
    
    <span class="n">plant</span> <span class="o">=</span> <span class="n">Plant</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">plant</span><span class="o">.</span><span class="n">THOUGHTS</span><span class="o">.</span><span class="n">quantity</span><span class="p">,</span> <span class="n">Plant</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span> <span class="n">plant</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span> <span class="n">plant</span><span class="o">.</span><span class="n">GROW</span> <span class="p">())</span>
    
    <span class="n">stone</span> <span class="o">=</span> <span class="n">Stone</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">stone</span><span class="o">.</span><span class="n">Thoughts</span><span class="o">.</span><span class="n">quantity</span><span class="p">,</span> <span class="n">Stone</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="n">stone</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="n">stone</span><span class="o">.</span><span class="n">be</span> <span class="p">())</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="method-and-class-decorators">
<h2>4.28. Method and class decorators<a class="headerlink" href="#method-and-class-decorators" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Testlet: method_and_class_decorators</span><a class="headerlink" href="#id30" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">adecorator</span><span class="p">:</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
            <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="n">slf</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="c1"># replace and store the attributes</span>
                <span class="n">saved</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">slf</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
                        <span class="n">saved</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">slf</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="n">slf</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

                <span class="c1"># call the method</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

                <span class="c1"># put things back</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">saved</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">slf</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">ret</span>

            <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">wrapper</span>

    <span class="k">def</span> <span class="nf">method_decorator</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">wrapper</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>

    <span class="k">def</span> <span class="nf">method_decorator2</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">wrapper</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>

    <span class="k">def</span> <span class="nf">multiplier</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">m</span>
            <span class="k">return</span> <span class="n">wrapper</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>

    <span class="k">def</span> <span class="nf">classmethod_decorator</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">wrapper</span>

    <span class="k">def</span> <span class="nf">class_decorator</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">cls</span>

        <span class="k">return</span> <span class="n">wrapper</span>

    <span class="nd">@class_decorator</span><span class="p">(</span><span class="s1">&#39;outer_&#39;</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>

        <span class="nd">@class_decorator</span><span class="p">(</span><span class="s1">&#39;inner_&#39;</span><span class="p">)</span>
        <span class="k">class</span> <span class="nc">InnerClass</span><span class="p">:</span>
            <span class="nd">@method_decorator</span><span class="p">(</span><span class="s1">&#39;inner_first_&#39;</span><span class="p">)</span>
            <span class="nd">@method_decorator2</span><span class="p">(</span><span class="s1">&#39;inner_second_&#39;</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">mymethod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

            <span class="nd">@classmethod</span>
            <span class="nd">@classmethod_decorator</span>
            <span class="k">def</span> <span class="nf">myclassmethod</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

            <span class="nd">@staticmethod</span>
            <span class="k">def</span> <span class="nf">mystaticmethod</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

            <span class="nd">@property</span>
            <span class="k">def</span> <span class="nf">inner_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="s1">&#39;I am a property&#39;</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">greetings</span> <span class="o">=</span> <span class="s1">&#39;Hello&#39;</span>

        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
        <span class="nd">@adecorator</span><span class="p">(</span><span class="n">greetings</span><span class="o">=</span><span class="s1">&#39;Goodbye&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">get_greetings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">greetings</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>

        <span class="nd">@method_decorator</span><span class="p">(</span><span class="s1">&#39;first_&#39;</span><span class="p">)</span>
        <span class="nd">@method_decorator2</span><span class="p">(</span><span class="s1">&#39;second_&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">mymethod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="nd">@multiplier</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">num</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">myclassmethod</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

        <span class="nd">@staticmethod</span>
        <span class="k">def</span> <span class="nf">mystaticmethod</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">simple_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">greetings</span>

        <span class="nd">@simple_property</span><span class="o">.</span><span class="n">setter</span>
        <span class="k">def</span> <span class="nf">simple_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">greetings</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">inner_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">InnerClass</span><span class="p">()</span>
            <span class="n">inner_obj</span><span class="o">.</span><span class="n">mymethod</span><span class="p">(</span><span class="s1">&#39;Dog&#39;</span><span class="p">)</span>
            <span class="n">result1</span> <span class="o">=</span> <span class="n">inner_obj</span><span class="o">.</span><span class="n">myclassmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">InnerClass</span><span class="o">.</span><span class="n">myclassmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">)</span>
            <span class="n">result1</span> <span class="o">=</span> <span class="n">inner_obj</span><span class="o">.</span><span class="n">mystaticmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">InnerClass</span><span class="o">.</span><span class="n">mystaticmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">inner_obj</span><span class="o">.</span><span class="n">inner_property</span><span class="p">)</span>

    <span class="n">myobj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
    <span class="n">myobj</span><span class="o">.</span><span class="n">mymethod</span><span class="p">(</span><span class="s1">&#39;Cat&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">greetings</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">get_greetings</span><span class="p">())</span>
    <span class="n">result1</span> <span class="o">=</span> <span class="n">myobj</span><span class="o">.</span><span class="n">myclassmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
    <span class="n">result2</span> <span class="o">=</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">myclassmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">)</span>
    <span class="n">result1</span> <span class="o">=</span> <span class="n">myobj</span><span class="o">.</span><span class="n">mystaticmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
    <span class="n">result2</span> <span class="o">=</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">mystaticmethod</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">number</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">simple_property</span><span class="p">)</span>
    <span class="n">myobj</span><span class="o">.</span><span class="n">simple_property</span> <span class="o">=</span> <span class="s1">&#39;New value&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">simple_property</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">myobj</span><span class="o">.</span><span class="n">greetings</span> <span class="o">==</span> <span class="n">myobj</span><span class="o">.</span><span class="n">simple_property</span><span class="p">)</span>
    <span class="n">myobj</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-builtin-a-small-part-of-it-demo-ed">
<h2>4.29. Module builtin: a small part of it demo’ed<a class="headerlink" href="#module-builtin-a-small-part-of-it-demo-ed" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Testlet: module_builtin</span><a class="headerlink" href="#id31" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># coding: utf-8</span>

<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__envir__</span>

<span class="k">def</span> <span class="nf">canonizeString</span> <span class="p">(</span><span class="n">aString</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">__envir__</span><span class="o">.</span><span class="n">executor_name</span> <span class="o">==</span> <span class="s1">&#39;transcrypt&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">aString</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">t&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">aString</span>

<span class="k">def</span> <span class="nf">canonizeStringList</span> <span class="p">(</span><span class="n">stringList</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">canonizeString</span> <span class="p">(</span><span class="n">aString</span><span class="p">)</span> <span class="k">for</span> <span class="n">aString</span> <span class="ow">in</span> <span class="n">stringList</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="nb">min</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="nb">max</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;abs&#39;</span><span class="p">,</span> <span class="nb">abs</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="nb">abs</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">abs</span> <span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">abs</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">),</span> <span class="nb">abs</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ord&#39;</span><span class="p">,</span> <span class="nb">ord</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="nb">ord</span> <span class="p">(</span><span class="s1">&#39;e´&#39;</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1"># This is the 2 codepoint version</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;round&#39;</span><span class="p">,</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">4.006</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">4.006</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mi">4060</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>
        
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">4.006</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">4.006</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mi">4060</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>
        
        <span class="nb">round</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    
        <span class="nb">round</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">0.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">1.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">1.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">1.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">2.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">2.59</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">3.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="mf">3.59</span><span class="p">),</span>
        
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.51</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">2.59</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">),</span>
        <span class="nb">round</span> <span class="p">(</span><span class="o">-</span><span class="mf">3.59</span><span class="p">)</span>
    <span class="p">)</span>
    
    <span class="n">strings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;der des dem den die der den die das des dem das&#39;</span><span class="p">,</span>
        <span class="s1">&#39;an auf hinter ueber    neben vor   zwischen&#39;</span><span class="p">,</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">            durch</span>
<span class="sd">            fuer</span>
<span class="sd">            ohne</span>
<span class="sd">            um</span>
<span class="sd">            bis</span>
<span class="sd">            gegen</span>
<span class="sd">            entlang</span>
<span class="sd">        &#39;&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;eins,zwei,drie,vier,fuenf,sechs,sieben&#39;</span>
    <span class="p">]</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;split&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">aString</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
            <span class="n">canonizeString</span> <span class="p">(</span><span class="n">aString</span><span class="p">),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">()),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">split</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="s1">&#39;&lt;br&gt;&#39;</span>
        <span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;rsplit&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">aString</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span>
            <span class="n">canonizeString</span> <span class="p">(</span><span class="n">aString</span><span class="p">),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">()),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)),</span>
            <span class="n">canonizeStringList</span> <span class="p">(</span><span class="n">aString</span><span class="o">.</span><span class="n">rsplit</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="s1">&#39;&lt;br&gt;&#39;</span>
        <span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;abc123&quot;</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-cmath-allmost-all-of-python-s-cmath-module">
<h2>4.30. Module cmath: allmost all of Python’s cmath module<a class="headerlink" href="#module-cmath-allmost-all-of-python-s-cmath-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Testlet: module_cmath</span><a class="headerlink" href="#id32" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="kn">from</span> <span class="nn">cmath</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">twoPi</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span>
<span class="n">nDecs</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">phase</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span><span class="p">))</span>
    
    <span class="n">aPolar</span> <span class="o">=</span> <span class="n">polar</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aPolar</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nDecs</span><span class="p">),</span> <span class="n">aPolar</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="n">aRect</span> <span class="o">=</span> <span class="n">rect</span> <span class="p">(</span><span class="o">*</span><span class="n">aPolar</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aRect</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aRect</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">anExp</span> <span class="o">=</span> <span class="n">exp</span> <span class="p">(</span><span class="o">-</span><span class="mf">2.2</span> <span class="o">-</span> <span class="mf">3.3</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anExp</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anExp</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aLog</span> <span class="o">=</span> <span class="n">log</span> <span class="p">(</span><span class="n">anExp</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aLog</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aLog</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">anExp10</span> <span class="o">=</span> <span class="n">aLog</span> <span class="o">**</span> <span class="mi">10</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anExp10</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anExp10</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aLog10</span> <span class="o">=</span> <span class="n">log10</span> <span class="p">(</span><span class="n">anExp10</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aLog10</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aLog10</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">anExpRect</span> <span class="o">=</span> <span class="n">aLog</span> <span class="o">**</span> <span class="n">aRect</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anExpRect</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anExpRect</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aLogRect</span> <span class="o">=</span> <span class="n">log</span> <span class="p">(</span><span class="n">anExpRect</span><span class="p">,</span> <span class="n">aRect</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aLogRect</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aLogRect</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aSqrt</span> <span class="o">=</span> <span class="n">sqrt</span> <span class="p">(</span><span class="mi">1</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aSqrt</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aSqrt</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">sqrt</span> <span class="p">(</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">anotherSqrt</span> <span class="o">=</span> <span class="n">sqrt</span> <span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anotherSqrt</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anotherSqrt</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">anAsin</span> <span class="o">=</span> <span class="n">asin</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAsin</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAsin</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>

    <span class="n">anAcos</span> <span class="o">=</span> <span class="n">acos</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAcos</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAcos</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">anAtan</span> <span class="o">=</span> <span class="n">atan</span> <span class="p">(</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">4</span><span class="n">j</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAtan</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAtan</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aSin</span> <span class="o">=</span> <span class="n">sin</span> <span class="p">(</span><span class="n">anAsin</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aSin</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aSin</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">aCos</span> <span class="o">=</span> <span class="n">cos</span> <span class="p">(</span><span class="n">anAcos</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aCos</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aCos</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">aTan</span> <span class="o">=</span> <span class="n">tan</span> <span class="p">(</span><span class="n">anAtan</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aTan</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aTan</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">anAsinh</span> <span class="o">=</span> <span class="n">asinh</span> <span class="p">(</span><span class="n">aCos</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAsinh</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAsinh</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>

    <span class="n">anAcosh</span> <span class="o">=</span> <span class="n">acosh</span> <span class="p">(</span><span class="n">aSin</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAcosh</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAcosh</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">anAtanh</span> <span class="o">=</span> <span class="n">atanh</span> <span class="p">(</span><span class="n">aTan</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">anAtanh</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">anAtanh</span><span class="o">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">nDecs</span><span class="p">))</span>
    
    <span class="n">aSinh</span> <span class="o">=</span> <span class="n">sinh</span> <span class="p">(</span><span class="n">anAsinh</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aSinh</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aSinh</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">aCosh</span> <span class="o">=</span> <span class="n">cosh</span> <span class="p">(</span><span class="n">anAcosh</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aCosh</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aCosh</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
    <span class="n">aTanh</span> <span class="o">=</span> <span class="n">tanh</span> <span class="p">(</span><span class="n">anAtanh</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">aTanh</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="nb">round</span> <span class="p">(</span><span class="n">aTanh</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-datetime-transcryption-of-python-s-datetime-module">
<h2>4.31. Module datetime: transcryption of Python’s datetime module<a class="headerlink" href="#module-datetime-transcryption-of-python-s-datetime-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Testlet: module_datetime</span><a class="headerlink" href="#id33" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>

<span class="c1"># __pragma__(&#39;opov&#39;)</span>

<span class="k">def</span> <span class="nf">fix_time</span> <span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">hour</span> <span class="o">&gt;</span> <span class="mi">23</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span> <span class="o">-</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span> <span class="o">-</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dt</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="c1"># timezone</span>
    <span class="n">tz</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">repr</span> <span class="p">(</span><span class="n">tz</span><span class="p">))</span>

    <span class="n">tz2</span> <span class="o">=</span> <span class="n">timezone</span> <span class="p">(</span><span class="n">timedelta</span> <span class="p">(</span><span class="n">hours</span><span class="o">=-</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;EST&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">repr</span> <span class="p">(</span><span class="n">tz2</span><span class="p">))</span>

    <span class="n">now</span> <span class="o">=</span> <span class="n">fix_time</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span> <span class="p">())</span>
    <span class="n">now2</span> <span class="o">=</span> <span class="n">fix_time</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span> <span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">day</span> <span class="o">==</span> <span class="n">now2</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="n">now2</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">astimezone</span> <span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>

    <span class="c1"># timedelta</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">microseconds</span><span class="o">=</span><span class="mi">685</span><span class="p">)</span>
    <span class="n">delta2</span> <span class="o">=</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">microseconds</span><span class="o">=</span><span class="mi">684</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">delta</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">delta2</span><span class="p">)</span>

    <span class="c1"># timedelta comparisons</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">delta</span> <span class="o">==</span> <span class="n">delta2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="n">delta2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">delta</span> <span class="o">&lt;</span> <span class="n">delta2</span><span class="p">)</span>

    <span class="c1"># date</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">date</span> <span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">weekday</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">isoweekday</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">isocalendar</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">ctime</span> <span class="p">())</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">28</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">strftime</span> <span class="p">(</span><span class="s1">&#39;%Y.%m.</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">ctime</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">isoformat</span> <span class="p">())</span>

    <span class="c1"># date comparisons</span>
    <span class="n">d2</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">delta</span>
    <span class="n">d3</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">-</span> <span class="n">delta</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">d2</span><span class="p">)</span>

    <span class="c1"># datetime</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">fix_time</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="n">now</span> <span class="o">+</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span> <span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span> <span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">142</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">-</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">150</span><span class="p">))</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span> <span class="p">(</span><span class="s1">&#39;2017-03-14 15:28:14&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">strftime</span> <span class="p">(</span><span class="s1">&#39;%Y.%m.</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">))</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">timedelta</span> <span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">strftime</span> <span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">))</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2016</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">ctime</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">isoformat</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">date</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>
    <span class="c1"># named tuples not supported, need to convert</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">tuple</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">timetuple</span> <span class="p">()))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">tuple</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">utctimetuple</span> <span class="p">()))</span>

    <span class="c1"># datetime comparisons</span>
    <span class="n">d2</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">delta</span>
    <span class="n">d3</span> <span class="o">=</span> <span class="n">d2</span> <span class="o">-</span> <span class="n">delta</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">d3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="n">d2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">d2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-itertools-allmost-all-of-python-s-itertools-module">
<h2>4.32. Module itertools: allmost all of Python’s itertools module<a class="headerlink" href="#module-itertools-allmost-all-of-python-s-itertools-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Testlet: module_itertools</span><a class="headerlink" href="#id34" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="nb">pow</span>

<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">a</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">)]</span>

<span class="n">chars</span> <span class="o">=</span> <span class="s1">&#39;thequickbrownfoxjumpsoverthelazydog&#39;</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;islice count&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">count</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;islice cycle&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">cycle</span> <span class="p">(</span><span class="n">fibonacci</span> <span class="p">()),</span> <span class="mi">15</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;repeat&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">repeat</span> <span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="mi">15</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;islice repeat&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">repeat</span> <span class="p">(</span><span class="mf">2.74</span><span class="p">),</span> <span class="mi">15</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;accumulate&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">accumulate</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">5</span><span class="p">))))</span>

    <span class="k">def</span> <span class="nf">add</span> <span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">total</span> <span class="o">+</span> <span class="n">element</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;accumulate&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">accumulate</span> <span class="p">([</span><span class="s1">&#39;alamak&#39;</span><span class="p">,</span> <span class="s1">&#39;mirach&#39;</span><span class="p">,</span> <span class="s1">&#39;sirrah&#39;</span><span class="p">],</span> <span class="n">add</span><span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;chain&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">chain</span> <span class="p">(</span><span class="n">fibonacci</span> <span class="p">(),</span> <span class="n">squares</span><span class="p">,</span> <span class="n">chars</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;chain.from_iterable&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span> <span class="p">([</span><span class="s1">&#39;ape&#39;</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;mice&#39;</span><span class="p">,</span> <span class="s1">&#39;vim&#39;</span><span class="p">,</span> <span class="s1">&#39;sus&#39;</span><span class="p">,</span> <span class="s1">&#39;jet&#39;</span><span class="p">])))</span>
    
    <span class="n">selectors</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;compress&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">compress</span> <span class="p">(</span>
        <span class="p">[</span><span class="s1">&#39;</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">((</span><span class="s1">&#39;take&#39;</span> <span class="k">if</span> <span class="n">selector</span> <span class="k">else</span> <span class="s1">&#39;leave&#39;</span><span class="p">),</span> <span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">selector</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(</span><span class="n">selectors</span><span class="p">)],</span>
        <span class="n">selectors</span>
    <span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;dropwhile&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">dropwhile</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;filterfalse&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">filterfalse</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">10</span><span class="p">))))</span>
    
    <span class="n">things</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;animal&#39;</span><span class="p">,</span> <span class="s1">&#39;bear&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;animal&#39;</span><span class="p">,</span> <span class="s1">&#39;duck&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;plant&#39;</span><span class="p">,</span> <span class="s1">&#39;cactus&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;vehicle&#39;</span><span class="p">,</span> <span class="s1">&#39;speed boat&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;vehicle&#39;</span><span class="p">,</span> <span class="s1">&#39;school bus&#39;</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groupby</span> <span class="p">(</span><span class="n">things</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">thing</span> <span class="ow">in</span> <span class="n">group</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;A </span><span class="si">{}</span><span class="s1"> is a </span><span class="si">{}</span><span class="s1">.&#39;</span> <span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="n">thing</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">key</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;islice&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">islice</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;starmap&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">starmap</span> <span class="p">(</span><span class="nb">pow</span><span class="p">,</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;takewhile&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">takewhile</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])))</span>
    
    <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">tee</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">count</span> <span class="p">(),</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;tee&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="nb">list</span> <span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="nb">list</span> <span class="p">(</span><span class="n">i2</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">product</span> <span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="s1">&#39;xy&#39;</span><span class="p">)),</span> <span class="nb">list</span> <span class="p">(</span><span class="n">product</span> <span class="p">(</span><span class="nb">range</span> <span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">repeat</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;permutations&#39;</span><span class="p">,</span> <span class="nb">list</span> <span class="p">(</span><span class="n">permutations</span> <span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">)),</span> <span class="nb">list</span> <span class="p">(</span><span class="n">permutations</span> <span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;combinations&#39;</span><span class="p">,</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations</span> <span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">3</span><span class="p">)),</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">count</span> <span class="p">(),</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;combinations_with_replacement&#39;</span><span class="p">,</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations_with_replacement</span> <span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations_with_replacement</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">3</span><span class="p">)),</span>
        <span class="nb">list</span> <span class="p">(</span><span class="n">combinations_with_replacement</span> <span class="p">(</span><span class="n">islice</span> <span class="p">(</span><span class="n">count</span> <span class="p">(),</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-math-allmost-all-of-python-s-math-module">
<h2>4.33. Module math: allmost all of Python’s math module<a class="headerlink" href="#module-math-allmost-all-of-python-s-math-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">Testlet: module_math</span><a class="headerlink" href="#id35" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">_check</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">):</span>
    <span class="c1"># we just compare the first 15 digits of floats due to precision deviations</span>
    <span class="c1"># in browser and CPython:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="n">nr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">nr</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">nr</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">check</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">nr</span><span class="p">:</span> <span class="n">_check</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="n">autoTester</span><span class="p">)</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">exp</span> <span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="n">expm1</span> <span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">log</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="nb">round</span> <span class="p">(</span><span class="n">log</span> <span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">log1p</span> <span class="p">(</span><span class="mi">5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="n">log2</span> <span class="p">(</span><span class="mi">257</span><span class="p">)))</span>
    <span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="n">log10</span> <span class="p">(</span><span class="mi">1001</span><span class="p">)))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="nb">pow</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">sqrt</span> <span class="p">(</span><span class="mf">25.1</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">sin</span> <span class="p">(</span><span class="mi">10</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">cos</span> <span class="p">(</span><span class="mi">10</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">tan</span> <span class="p">(</span><span class="mi">10</span><span class="p">))</span>

    <span class="n">check</span> <span class="p">(</span><span class="n">asin</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">acos</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">atan</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">atan2</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="nb">int</span> <span class="p">(</span><span class="n">hypot</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">4.1</span><span class="p">)))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">degrees</span> <span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mf">2.1</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">radians</span> <span class="p">(</span><span class="mi">90</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">sinh</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">cosh</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">tan</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">asinh</span> <span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">acosh</span> <span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">atan</span> <span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">floor</span> <span class="p">(</span><span class="mf">3.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">ceil</span> <span class="p">(</span><span class="mf">3.5</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">trunc</span> <span class="p">(</span><span class="mf">3.5</span><span class="p">))</span>
    
    <span class="n">check</span> <span class="p">(</span><span class="n">isnan</span> <span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">check</span> <span class="p">(</span><span class="n">isnan</span> <span class="p">(</span><span class="n">nan</span><span class="p">))</span>
    
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-random-most-important-functions-of-python-s-random-module">
<h2>4.34. Module random: most important functions of Python’s random module<a class="headerlink" href="#module-random-most-important-functions-of-python-s-random-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">Manual_test: module_random</span><a class="headerlink" href="#id36" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="k">def</span> <span class="nf">output</span> <span class="p">(</span><span class="nb">any</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">+=</span> <span class="nb">any</span> <span class="o">+</span> <span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>

<span class="k">for</span> <span class="n">fixedSeed</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">fixedSeed</span><span class="p">:</span>
        <span class="n">seed</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">seed</span> <span class="p">()</span>

    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;------ </span><span class="si">{}</span><span class="s1"> ------&#39;</span><span class="o">.</span><span class="n">format</span> <span class="p">(</span><span class="s1">&#39;fixed seed&#39;</span> <span class="k">if</span> <span class="n">fixedSeed</span> <span class="k">else</span> <span class="s1">&#39;auto seed&#39;</span><span class="p">))</span>
        
    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;--- randint ---&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">output</span> <span class="p">(</span><span class="n">randint</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">--- choice ---&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">output</span> <span class="p">(</span><span class="n">choice</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]))</span>

    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">--- random ---&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">output</span> <span class="p">(</span><span class="n">random</span> <span class="p">())</span>
        
    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">--- shuffle ---&#39;</span><span class="p">)</span>
    <span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="n">output</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">7</span><span class="p">):</span>
        <span class="n">shuffle</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
        <span class="n">output</span> <span class="p">(</span><span class="n">aList</span><span class="p">)</span>
    
    <span class="n">output</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
<span class="n">document</span><span class="o">.</span><span class="n">getElementById</span> <span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">innerHTML</span> <span class="o">=</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-re-transcryption-of-python-s-re-module">
<h2>4.35. Module re: transcryption of Python’s re module<a class="headerlink" href="#module-re-transcryption-of-python-s-re-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">Testlet: re/autotest</span><a class="headerlink" href="#id37" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.transcrypt.autotester</span>

<span class="kn">import</span> <span class="nn">basic_pyre</span>
<span class="kn">import</span> <span class="nn">basic_jsre</span>

<span class="n">autoTester</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">transcrypt</span><span class="o">.</span><span class="n">autotester</span><span class="o">.</span><span class="n">AutoTester</span> <span class="p">()</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">basic_jsre</span><span class="p">,</span> <span class="s1">&#39;Basic JS RE Tests&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">basic_pyre</span><span class="p">,</span> <span class="s1">&#39;Basic Python RE Tests&#39;</span><span class="p">)</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">done</span> <span class="p">()</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">Testlet: re/basictests</span><a class="headerlink" href="#id38" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span><span class="p">,</span> <span class="n">__symbols__</span><span class="p">,</span> <span class="n">__envir__</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="n">__pragma__</span><span class="p">(</span><span class="s2">&quot;skip&quot;</span><span class="p">)</span>
<span class="n">re</span><span class="o">.</span><span class="n">J</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">19</span><span class="p">)</span>
<span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">J</span>

<span class="k">def</span> <span class="nf">convertMappingDict</span><span class="p">(</span><span class="n">mdict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This method converts a mapping proxy object to</span>
<span class="sd">    a dict object. mapping proxies create read-only dicts</span>
<span class="sd">    but we don&#39;t have that concept in transcrypt yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">mdict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">ret</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">mdict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

<span class="n">__pragma__</span><span class="p">(</span><span class="s2">&quot;noskip&quot;</span><span class="p">)</span>

<span class="n">testStr1</span> <span class="o">=</span> <span class="s2">&quot;There,is,No,Time&quot;</span>
<span class="n">testStr2</span> <span class="o">=</span> <span class="s2">&quot;som[23] In[23423] the[34].asd[934].234.&quot;</span>
<span class="n">testStr3</span> <span class="o">=</span> <span class="s2">&quot;s(43) d(03) asdfasd dsfsd(3) sd&quot;</span>
<span class="n">testStr4</span> <span class="o">=</span> <span class="s2">&quot;Were an apple like an orange then apple orange no appleorange&quot;</span>

<span class="k">def</span> <span class="nf">checkMatchProperties</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This test checks that properties on the match</span>
<span class="sd">    are reported correctly, and that they are read-only</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">testStr1</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">result</span><span class="o">.</span><span class="n">pos</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">result</span><span class="o">.</span><span class="n">endpos</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">result</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">result</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">result</span><span class="o">.</span><span class="n">string</span> <span class="p">)</span>

        <span class="c1"># Check readonly props of match</span>
        <span class="k">def</span> <span class="nf">assignPos</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignPos</span><span class="p">))</span>
        <span class="k">def</span> <span class="nf">assignEndPos</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">endpos</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignEndPos</span><span class="p">))</span>
        <span class="k">def</span> <span class="nf">assignRe</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">re</span> <span class="o">=</span> <span class="s2">&quot;asdfasdf&quot;</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignRe</span><span class="p">))</span>
        <span class="k">def</span> <span class="nf">assignStr</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;asdf&quot;</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignStr</span><span class="p">))</span>
        <span class="k">def</span> <span class="nf">assignLastGroup</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">lastgroup</span> <span class="o">=</span> <span class="s2">&quot;asdfasdf&quot;</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignLastGroup</span><span class="p">))</span>
        <span class="k">def</span> <span class="nf">assignLastIndex</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">lastindex</span> <span class="o">=</span> <span class="mi">33</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignLastIndex</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="s2">&quot;NULL&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">checkRegexProperties</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This test checks that the appropriate properties</span>
<span class="sd">    exist on the Regex object and that these properties</span>
<span class="sd">    are read-only.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">r</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">groups</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">pattern</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">flags</span> <span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">groupindex</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;skip&#39;</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">convertMappingDict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noskip&#39;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span>
        <span class="c1"># Check Read-only props on regex object</span>
        <span class="k">def</span> <span class="nf">assignPattern</span><span class="p">():</span>
            <span class="n">r</span><span class="o">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;asdfasdf&quot;</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
            <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignPattern</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">assignFlags</span><span class="p">():</span>
            <span class="n">r</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="s2">&quot;wer&quot;</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
            <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignFlags</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">assignGroups</span><span class="p">():</span>
            <span class="n">r</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
            <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignGroups</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">assignGroupIndex</span><span class="p">():</span>
            <span class="n">r</span><span class="o">.</span><span class="n">groupindex</span> <span class="o">=</span> <span class="mi">34</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
            <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="n">assignGroupIndex</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="s2">&quot;NULL&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        
<span class="k">def</span> <span class="nf">aValue</span> <span class="p">(</span><span class="n">flag</span><span class="p">):</span>   <span class="c1"># Workaround for Python 3.6 enums</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">flag</span><span class="o">.</span><span class="n">value</span>
    <span class="k">return</span> <span class="n">result</span> <span class="k">if</span> <span class="n">result</span> <span class="k">else</span> <span class="n">flag</span>
        
<span class="k">def</span> <span class="nf">checkFlagsExist</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">M</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">S</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">U</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">A</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">aValue</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">ASCII</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">escapeTests</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s2">&quot;buf[34]&quot;</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">asdf</span><span class="se">\\</span><span class="s2">wewer</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s2">&quot;func(int a) { return(3)};&quot;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">checkIgnoreCase</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;AS&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;AS&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;AS&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;AS&quot;</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>

<span class="k">def</span> <span class="nf">checkSearchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">[([</span><span class="se">\\</span><span class="s2">d]+)</span><span class="se">\\</span><span class="s2">]&quot;</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">lastgroup</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">lastindex</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">50</span><span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
            <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">testStr1</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="p">)</span>

<span class="k">def</span> <span class="nf">checkMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^s&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;^s&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="p">)</span>

<span class="k">def</span> <span class="nf">checkMatchWithNamedGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Matches with named groups</span>
    <span class="n">r</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?P&lt;prefix&gt;[a-zA-Z]+)://(?P&lt;suffix&gt;[^/]*)&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">r</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">groupindex</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;skip&#39;</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">convertMappingDict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noskip&#39;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;http://asdf&quot;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;prefix&quot;</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;suffix&quot;</span><span class="p">)</span> <span class="p">)</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;ftp://192.168.1.1&quot;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;prefix&quot;</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;suffix&quot;</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;555-5555&quot;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?P&lt;country&gt;\d{1,3})-(?P&lt;areacode&gt;\d</span><span class="si">{3}</span><span class="s2">)-(?P&lt;number&gt;\d</span><span class="si">{3}</span><span class="s2">-\d</span><span class="si">{4}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">r</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">groupindex</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;skip&#39;</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">convertMappingDict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noskip&#39;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;1-234-567-9012&quot;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;country&quot;</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;areacode&quot;</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="p">)</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;adfs;&quot;</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">checkMatchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">rgx</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\w)(\w)(\w)?&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="c1"># groups() with default value</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;ab&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Match with group that is non-captured</span>
    <span class="n">rgx</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?:[\w\s]+)\[(\d+)\]&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;asdf[23]&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">checkCommentGroup</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Comment Groups are only supported in Python so will</span>
<span class="sd">    likely fail in javascript only mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a(?#foobar)b&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">r</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;ab&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;er&quot;</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([\d]+)(?#blarg)\[\]&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">groups</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">pattern</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;1234[]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;asdf[]&quot;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">checkFullMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">pos</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">endpos</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;o[gh]&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;dog&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;o[gh]&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;ogre&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">))</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;o[gh]&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s2">&quot;doggie&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">endpos</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">checkFindAllOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">testStr1</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span> <span class="c1"># No Caps</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">[([</span><span class="se">\\</span><span class="s2">d]+)</span><span class="se">\\</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span> <span class="c1"># 1 Cap</span>
    <span class="n">r</span> <span class="o">=</span> <span class="s2">&quot;([^\d\s]+</span><span class="se">\\</span><span class="s2">(([\d]+)</span><span class="se">\\</span><span class="s2">))&quot;</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">testStr3</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span> <span class="c1"># 2 Caps</span>

<span class="k">def</span> <span class="nf">checkSplitOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">testStr1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;(apple|orange)&quot;</span><span class="p">,</span><span class="n">testStr4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">[([</span><span class="se">\\</span><span class="s2">d]+)</span><span class="se">\\</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="n">testStr2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">[([</span><span class="se">\\</span><span class="s2">d]+)</span><span class="se">\\</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">testStr2</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">checkSubOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">dashrepl</span><span class="p">(</span><span class="n">matchobj</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">matchobj</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39; &#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;-&#39;</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;-{1,2}&#39;</span><span class="p">,</span> <span class="n">dashrepl</span><span class="p">,</span> <span class="s1">&#39;pro----gram-files&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;-{1,2}&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;pro----gram-files&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="s1">&#39;-{1,2}&#39;</span><span class="p">,</span> <span class="n">dashrepl</span><span class="p">,</span> <span class="s1">&#39;pro----gram-files&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">flags</span><span class="p">))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="s1">&#39;-{1,2}&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;pro----gram-files&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">flags</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">checkSyntaxErrors</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;a</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a[b&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(abc&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;)(&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;))&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a[b-a]&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;*a&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">checkFindIter</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Test the finditer method</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">p</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">[([</span><span class="se">\\</span><span class="s2">d]+)</span><span class="se">\\</span><span class="s2">]&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="n">r</span><span class="o">.</span><span class="n">groups</span> <span class="p">)</span>

    <span class="n">iret</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">testStr2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">iret</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">endpos</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">lastindex</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2342</span><span class="p">)))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">)))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">)))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">expectException</span><span class="p">(</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="s2">&quot;asdf&quot;</span><span class="p">)))</span>


<span class="k">def</span> <span class="nf">checkWithFlags</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This checks the regex with flags called out in the</span>
<span class="sd">    string, for example (?i) for ignore case.</span>
<span class="sd">    This is a python only feature.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?i)aba&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;aBA&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;aAa&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;ABA&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;abA&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">checkConditionalGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Check conditional groups - this is a python only</span>
<span class="sd">    feature - will likely faily in the js strict mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rgx</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">rgx</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(a)?(b)?(?(1)a|c)(?(2)b)&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">rgx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">):</span>
<span class="c1">#        test.check(rgx.groups)                                             # !!! @JdeH temporarily disabled this</span>
        <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;abab&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;bcb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;abcb&#39;</span><span class="p">))</span>
        <span class="c1"># PyRegex needs to use n_splits from `translate` for this to work</span>
        <span class="c1"># test.checkEval(lambda: rgx.match(&#39;c&#39;).groups())                   # !!! @JdeH temporarily disabled this</span>
        <span class="c1"># test.checkEval(lambda: rgx.split(&quot;ababbababcdjsabbabdbab&quot;))       # !!! @JdeH temporarily disabled this</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;jumbo&quot;</span><span class="p">,</span> <span class="s2">&quot;ababsdf rexababwer&quot;</span><span class="p">))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;shrimp&quot;</span><span class="p">,</span> <span class="s2">&quot;shipbcb shootc aardvark&quot;</span><span class="p">))</span>
        <span class="c1"># test.checkEval(lambda: rgx.findall(&quot;ababxaaxcebbcxababeded&quot;))     # !!! @JdeH temporarily disabled this</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">rgx</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(a)?(b)?(?(1)a|c)(?(2)b|d)&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">test</span><span class="o">.</span><span class="n">checkPad</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># test.check(rgx.groups)                                                # !!! @JdeH temporarily disabled this</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">rgx</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;abab&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;aad&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;bcb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">test</span><span class="o">.</span><span class="n">checkEval</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">rgx</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;bcb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">Testlet: re/basic_pyre</span><a class="headerlink" href="#id39" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># File: basic_pyre.py</span>
<span class="c1">#</span>
<span class="c1"># This file contains the basic regex tests run on the</span>
<span class="c1"># python translated regex expressions.</span>
<span class="c1">#</span>

<span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">basictests</span> <span class="k">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; basic tests of the re engine. The point is to</span>
<span class="sd">    exercise most of the methods to make sure they behave as</span>
<span class="sd">    expected. These tests are expected to provide exhaustive</span>
<span class="sd">    coverage of the regex engine.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">checkFlagsExist</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>

    <span class="n">escapeTests</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkMatchProperties</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkRegexProperties</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>

    <span class="n">checkIgnoreCase</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>

    <span class="n">checkSearchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkMatchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="c1"># checkMatchWithNamedGroups(test)           # !!! @JdeH temporarily disabled this</span>
    <span class="n">checkFullMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkFindAllOps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkSplitOps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkSubOps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkSyntaxErrors</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkConditionalGroups</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkCommentGroup</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkWithFlags</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>

    <span class="n">checkFindIter</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">Testlet: re/basictests</span><a class="headerlink" href="#id40" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="n">__pragma__</span><span class="p">(</span><span class="s2">&quot;skip&quot;</span><span class="p">)</span>
<span class="n">re</span><span class="o">.</span><span class="n">J</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">19</span><span class="p">)</span>
<span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">J</span>
<span class="n">__pragma__</span><span class="p">(</span><span class="s2">&quot;noskip&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">basictests</span> <span class="k">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; basic tests of the re engine. The point is to</span>
<span class="sd">    exercise most of the methods to make sure they behave as</span>
<span class="sd">    expected. These tests are expected to provide exhaustive</span>
<span class="sd">    coverage of the regex engine.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">checkFlagsExist</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">escapeTests</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">checkMatchProperties</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkRegexProperties</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>

    <span class="n">checkIgnoreCase</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>

    <span class="n">checkSearchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkMatchWithGroups</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="c1">#checkMatchWithNamedGroups(test, re.JSSTRICT)</span>

    <span class="n">checkFullMatchOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkFindAllOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkSplitOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkSubOps</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="n">checkSyntaxErrors</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
    <span class="c1">#checkConditionalGroups(test, re.JSSTRICT)</span>
    <span class="c1">#checkCommentGroup(test, re.JSSTRICT)</span>
    <span class="c1">#checkWithFlags(test, re.JSSTRICT)</span>

    <span class="n">checkFindIter</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">JSSTRICT</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-time-transcryption-of-python-s-time-module">
<h2>4.36. Module time: transcryption of Python’s time module<a class="headerlink" href="#module-time-transcryption-of-python-s-time-module" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id41">
<div class="code-block-caption"><span class="caption-text">Testlet: time/testlet0</span><a class="headerlink" href="#id41" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.transcrypt.autotester</span>

<span class="kn">import</span> <span class="nn">testlet0</span><span class="o">,</span> <span class="nn">strptime</span><span class="o">,</span> <span class="nn">mult_time</span>

<span class="n">autoTester</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">transcrypt</span><span class="o">.</span><span class="n">autotester</span><span class="o">.</span><span class="n">AutoTester</span> <span class="p">()</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">testlet0</span><span class="p">,</span> <span class="s1">&#39;testlet0&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">strptime</span><span class="p">,</span> <span class="s1">&#39;strptime&#39;</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">mult_time</span><span class="p">,</span> <span class="s1">&#39;mult_time&#39;</span><span class="p">)</span>

<span class="n">autoTester</span><span class="o">.</span><span class="n">done</span> <span class="p">()</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id42">
<div class="code-block-caption"><span class="caption-text">Testlet: time/testlet0</span><a class="headerlink" href="#id42" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39; general functions &#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">ts</span> <span class="o">=</span> <span class="mf">1468968009.638596</span> <span class="c1"># a test timestamp</span>
<span class="n">hy</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">86400</span> <span class="c1"># around half a year</span>
<span class="c1"># accommodate the offset between python and transcrypt run:</span>
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span>
    <span class="c1"># rounding this one much, since test res is not updated when code not</span>
    <span class="c1"># changes (?)</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;time():&#39;</span>         <span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;altzone:&#39;</span>        <span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">altzone</span><span class="p">)</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;timelen:&#39;</span>        <span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()))))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;localtime:&#39;</span>      <span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">ts</span><span class="p">)))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;ltime_no_dst:&#39;</span>   <span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">ts</span> <span class="o">+</span> <span class="n">hy</span><span class="p">)))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;gmtime:&#39;</span>         <span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">ts</span><span class="p">)))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;daylight:&#39;</span>       <span class="p">,</span> <span class="nb">bool</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">daylight</span><span class="p">))</span>
    <span class="n">c</span><span class="p">(</span><span class="s1">&#39;timezone:&#39;</span>       <span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">timezone</span><span class="p">)</span>
    <span class="c1"># c(&#39;tzname:&#39;         , time.tzname) # Won&#39;t work under Windows 10, since it mixes up CET/CEST and WET/WEST and names CEST deviantly.</span>
    <span class="c1"># more tests in other testlests</span>

</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id43">
<div class="code-block-caption"><span class="caption-text">Testlet: time/mult_time</span><a class="headerlink" href="#id43" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">testing strftime.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">time</span>


<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">fmt</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;gmtime&#39;</span>   <span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;localtime&#39;</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;mktime&#39;</span>   <span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;ctime&#39;</span>    <span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">23</span><span class="p">):</span>
        <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">hour</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">(</span>
             <span class="s1">&#39;%p %I.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">%m%Y%H:%M:%S%p&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;M%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1">.%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a %b </span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">.%m.%Y %I:%M:%S%p&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a%b </span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1">%H:%Mx%S%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1">%H:%Mxx%S%Y&#39;</span>
            <span class="p">,</span><span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1">%H:%Mxx%S%Y +000&#39;</span>
            <span class="p">,</span><span class="s1">&#39; %a%b</span><span class="si">%d</span><span class="s1">%H:%Mxx%S%Y +000 &#39;</span>
            <span class="p">):</span> <span class="n">check</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;asctime&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>



</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id44">
<div class="code-block-caption"><span class="caption-text">Testlet: time/strptime</span><a class="headerlink" href="#id44" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">testing strptime.</span>

<span class="sd">Note, Py3 bug:</span>

<span class="sd">while true; do</span>
<span class="sd">    python3.5 -c &quot;import time; print(tuple(time.strptime(&#39;nov 1.1.1900&#39;, &#39;%b %m.%d.%Y&#39;)))&quot;</span>
<span class="sd">done</span>

<span class="sd">=&gt; we simply cannot test conflicting %b %m switches,</span>
<span class="sd">it decides per run which one it takes(!!!), so autotest would fail randomly.</span>

<span class="sd">Verified with 3.4, 3.5 on mac and linux.</span>

<span class="sd">Root cause explained here: https://github.com/JdeH/Transcrypt/issues/85</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Note: The localized names for months and weekdays assumed to be english here.</span>
<span class="c1"># And the js implementation takes the names of the locale. That may fail the</span>
<span class="c1"># tests in other areas of the world. tried with export LANG other locales but</span>
<span class="c1"># did not get an error though.</span>
<span class="c1"># In any case the Js implementation of the checking the weekdays and monthnames</span>
<span class="c1"># should be safe.</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">fmt</span><span class="p">))</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="p">,</span> <span class="s1">&#39;] = &#39;</span><span class="p">]),</span> <span class="n">s</span><span class="p">)</span>

    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;jan .1.1902&#39;</span>               <span class="p">,</span> <span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;3112199912:00:00pm&#39;</span>         <span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">%m%Y%H:%M:%S%p&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;FEb .1.1902&#39;</span>               <span class="p">,</span> <span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;M1.1.1901&#39;</span>                  <span class="p">,</span> <span class="s1">&#39;M%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;2.1.1900&#39;</span>                   <span class="p">,</span> <span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;6.1.2000&#39;</span>                   <span class="p">,</span> <span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;nov .1.1900&#39;</span>                <span class="p">,</span> <span class="s1">&#39;%b .</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;2.1.1900&#39;</span>                   <span class="p">,</span> <span class="s1">&#39;%m.</span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;december 1.1999&#39;</span>            <span class="p">,</span> <span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1">.%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;Tue Jul 18 19:32:11 2016&#39;</span>   <span class="p">,</span> <span class="s1">&#39;%a %b </span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;31.12.1999 12:00:00pm&#39;</span>      <span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">.%m.%Y %I:%M:%S%p&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;TueJul 18 19:32:11 2016&#39;</span>    <span class="p">,</span> <span class="s1">&#39;%a%b </span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;TueJul18 19:32:11 2016&#39;</span>     <span class="p">,</span> <span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;TueJul1819:32x112016&#39;</span>       <span class="p">,</span> <span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1">%H:%Mx%S%Y&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s1">&#39;TueJul1819:32xx112016&#39;</span>      <span class="p">,</span> <span class="s1">&#39;%a%b</span><span class="si">%d</span><span class="s1">%H:%Mxx%S%Y&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="modules-hierarchical-both-local-to-the-project-and-global-url-based">
<h2>4.37. Modules: hierarchical, both local to the project and global url-based<a class="headerlink" href="#modules-hierarchical-both-local-to-the-project-and-global-url-based" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id45">
<div class="code-block-caption"><span class="caption-text">Testlet: modules</span><a class="headerlink" href="#id45" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">modules.mod1.mod11.mod111</span>
<span class="kn">import</span> <span class="nn">modules.mod3</span>
<span class="kn">import</span> <span class="nn">modules.mod1.mod11.mod112</span>
<span class="kn">import</span> <span class="nn">modules.mod1</span>
<span class="kn">import</span> <span class="nn">modules.mod1.mod11</span>
<span class="kn">import</span> <span class="nn">modules.mod2</span>
<span class="kn">import</span> <span class="nn">modules.mod2.mod21</span>
<span class="kn">import</span> <span class="nn">modules.mod2.mod22</span>

<span class="kn">import</span> <span class="nn">modules.mod1.mod11.mod111</span> <span class="k">as</span> <span class="nn">aliasMod111</span>
<span class="kn">import</span> <span class="nn">modules.mod1</span> <span class="k">as</span> <span class="nn">aMod1</span>

<span class="kn">from</span> <span class="nn">modules.mod1.mod11</span> <span class="k">import</span> <span class="n">mod111</span><span class="p">,</span> <span class="n">mod112</span>

<span class="kn">from</span> <span class="nn">modules.mod2</span> <span class="k">import</span> <span class="n">mod21</span> <span class="k">as</span> <span class="n">aMod21</span><span class="p">,</span> <span class="n">mod22</span> <span class="k">as</span> <span class="n">aMod22</span>

<span class="kn">from</span> <span class="nn">modules.mod3</span> <span class="k">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">modules.mod1.mod11.mod111</span> <span class="k">import</span> <span class="n">A</span>

<span class="kn">from</span> <span class="nn">modules</span> <span class="k">import</span> <span class="n">mod4</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">modules</span><span class="o">.</span><span class="n">mod1</span><span class="o">.</span><span class="n">mod11</span><span class="o">.</span><span class="n">mod111</span><span class="o">.</span><span class="n">A</span> <span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
<span class="n">pi</span> <span class="o">=</span> <span class="n">modules</span><span class="o">.</span><span class="n">mod1</span><span class="o">.</span><span class="n">pi</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">modules</span><span class="o">.</span><span class="n">mod2</span><span class="o">.</span><span class="n">f</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="c1"># Import without &#39;as&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;modules&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">modules</span><span class="o">.</span><span class="n">mod1</span><span class="o">.</span><span class="n">mod11</span><span class="o">.</span><span class="n">mod112</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">modules</span><span class="o">.</span><span class="n">mod1</span><span class="o">.</span><span class="n">mod11</span><span class="o">.</span><span class="n">e</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="mi">102030</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">modules</span><span class="o">.</span><span class="n">mod2</span><span class="o">.</span><span class="n">mod21</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">modules</span><span class="o">.</span><span class="n">mod2</span><span class="o">.</span><span class="n">mod22</span><span class="o">.</span><span class="n">B</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">modules</span><span class="o">.</span><span class="n">mod3</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    
    <span class="c1"># Import with &#39;as&#39;</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="n">aliasMod111</span><span class="o">.</span><span class="n">A</span> <span class="p">(</span><span class="mi">6789101112</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aMod1</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    
    <span class="c1"># From ... import without &#39;as&#39;</span>
    <span class="n">a3</span> <span class="o">=</span> <span class="n">mod111</span><span class="o">.</span><span class="n">A</span> <span class="p">(</span><span class="mf">100.001</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a3</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">mod112</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    
    <span class="c1"># From ... import with &#39;as&#39;</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aMod21</span><span class="o">.</span><span class="n">f</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aMod22</span><span class="o">.</span><span class="n">B</span> <span class="p">()</span> <span class="o">.</span><span class="n">x</span><span class="p">)</span>
    
    <span class="c1"># From ... import *</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">mod3Hundred</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">mod3GetTwoHundred</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">A</span> <span class="p">(</span><span class="mf">123.321</span><span class="p">)</span> <span class="o">.</span><span class="n">f</span> <span class="p">())</span>

    <span class="c1"># Circular import (between mod4 and mod5)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">mod4</span><span class="o">.</span><span class="n">mod4Add2FromMod5</span><span class="p">(</span><span class="mi">449</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="nonlocals">
<h2>4.38. Nonlocals<a class="headerlink" href="#nonlocals" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id46">
<div class="code-block-caption"><span class="caption-text">Testlet: nonlocals</span><a class="headerlink" href="#id46" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">test1</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">test2</span> <span class="o">=</span> <span class="mi">2</span>
    
    <span class="k">def</span> <span class="nf">f</span> <span class="p">():</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="mi">10</span>
        
        <span class="k">nonlocal</span> <span class="n">test2</span>
        <span class="n">test2</span> <span class="o">=</span> <span class="mi">20</span>
        
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">)</span>
        
    <span class="n">f</span> <span class="p">()</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">)</span>     
</pre></div>
</div>
</div>
</div>
<div class="section" id="operator-overloading">
<h2>4.39. Operator overloading<a class="headerlink" href="#operator-overloading" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id47">
<div class="code-block-caption"><span class="caption-text">Testlet: operator_overloading</span><a class="headerlink" href="#id47" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="k">class</span> <span class="nc">Matrix</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nRows</span><span class="p">,</span> <span class="n">nCols</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nRows</span> <span class="o">=</span> <span class="n">nRows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nCols</span> <span class="o">=</span> <span class="n">nCols</span>
        
        <span class="k">if</span> <span class="nb">len</span> <span class="p">(</span><span class="n">elements</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="o">=</span> <span class="n">elements</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">nCols</span><span class="p">)]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">nRows</span><span class="p">)]</span>
        
    <span class="k">def</span> <span class="nf">__matmul__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">nCols</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iTargetRow</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">nRows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">iTargetCol</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">nCols</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">iTerm</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iTargetRow</span><span class="p">][</span><span class="n">iTargetCol</span><span class="p">]</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iTargetRow</span><span class="p">][</span><span class="n">iTerm</span><span class="p">]</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iTerm</span><span class="p">][</span><span class="n">iTargetCol</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
                
    <span class="k">def</span> <span class="nf">__imatmul__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># True in-place multiplication not yet implemented in compiler</span>
        <span class="c1"># It currently translates m1 @= m2 to m1 = m1 @ ms and uses __matmul__ instead</span>
        <span class="c1"># This fake __imatmul__ is just for CPython , allowing back to back testing</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__matmul__</span> <span class="p">(</span><span class="n">other</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">__mul__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span> <span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="n">Matrix</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">iRow</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">iCol</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span>   
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># other is a scalar</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__rmul__</span> <span class="p">(</span><span class="n">other</span><span class="p">)</span>
                
    <span class="k">def</span> <span class="nf">__rmul__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>    <span class="c1"># Only called if left operand is scalar, all other cases will call __mul__</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iRow</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">iCol</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">):</span> 
                <span class="n">result</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">scalar</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
    
    <span class="k">def</span> <span class="nf">__imul__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__mul__</span> <span class="p">(</span><span class="n">other</span><span class="p">)</span>
                
    <span class="k">def</span> <span class="nf">__add__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iRow</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nRows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">iCol</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nCols</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">iRow</span><span class="p">][</span><span class="n">iCol</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
        
    <span class="c1"># No __iadd__, to test fallback to __add__</span>
    
    <span class="k">def</span> <span class="nf">__getitem__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">index</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_</span> <span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        
    <span class="k">def</span> <span class="nf">__repr__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">repr</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">__floordiv__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Overloading __floordiv__ has no meaning for matrices&#39;</span>
        
    <span class="k">def</span> <span class="nf">__truediv__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Overloading __truediv__ has no meaning for matrices&#39;</span>
        
<span class="k">class</span> <span class="nc">Functor</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">=</span> <span class="n">factor</span>
        
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__call__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">*</span> <span class="n">arg</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">*</span> <span class="n">m</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">*</span> <span class="n">n</span><span class="p">,</span>
            <span class="c1"># !!! [self.factor * kwargs [key] for key in sorted (kwargs.keys ())] Add supoprt for keys () on kwargs</span>
        <span class="p">)</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
    
<span class="n">f</span> <span class="o">=</span> <span class="n">Functor</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;kwargs&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="c1"># !!! , [kwargs [key] for key in sorted (kwargs.keys ())]) Add support for keys () on kwargs</span>
<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;nokwargs&#39;</span><span class="p">)</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">m0</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
    <span class="p">])</span>
    
    <span class="n">m1</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
    <span class="p">])</span>
    
    <span class="n">m4</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">]</span>
    <span class="p">])</span>
    
    <span class="n">m5</span> <span class="o">=</span> <span class="n">Matrix</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">]</span>
    <span class="p">])</span>
        
    <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">x</span>
    <span class="n">fast</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="n">fast</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    
    <span class="n">m1</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">m0</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">slow</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span>
    <span class="n">m2</span> <span class="o">=</span> <span class="n">m0</span> <span class="o">*</span> <span class="n">m1</span>  <span class="o">+</span> <span class="n">m1</span> <span class="o">*</span> <span class="p">(</span><span class="n">m0</span> <span class="o">+</span> <span class="n">m1</span><span class="p">)</span>
    <span class="n">m3</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">m0</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">m1</span> <span class="o">+</span> <span class="n">m2</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m0</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">m0</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">m1</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">m1</span> <span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">m1</span> <span class="o">+=</span> <span class="n">m0</span>
    <span class="n">m2</span> <span class="o">*=</span> <span class="n">m1</span>
    
    <span class="n">m5</span> <span class="o">@=</span> <span class="n">m4</span>
    <span class="n">m6</span> <span class="o">=</span> <span class="n">m0</span> <span class="o">@</span> <span class="n">m1</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m0</span> <span class="o">/</span> <span class="n">m1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m0</span> <span class="o">//</span> <span class="n">m1</span><span class="p">)</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="n">fast2</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">fast</span> <span class="o">*=</span> <span class="mi">2</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m0</span><span class="p">,</span> <span class="n">m1</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m3</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m5</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">m6</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">fast</span><span class="p">,</span> <span class="n">slow</span><span class="p">,</span> <span class="n">fast2</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;marker&#39;</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">g</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">&lt;=</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">&gt;</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="nb">set</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">Bitwise</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__lshift__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;lshift&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__rlshift__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;rlshift&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__rshift__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;rshift&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__rrshift__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;rrshift&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__or__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)</span> 
            
        <span class="k">def</span> <span class="nf">__ror__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;ror&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__xor__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;xor&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__rxor__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;rxor&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__and__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">__rand__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;rand&#39;</span><span class="p">)</span> 

    <span class="n">bitwise</span> <span class="o">=</span> <span class="n">Bitwise</span> <span class="p">()</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    
    <span class="n">bitwise</span> <span class="o">&lt;&lt;</span> <span class="p">[]</span>
    <span class="p">[]</span> <span class="o">&lt;&lt;</span> <span class="n">bitwise</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">32</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="n">bitwise</span> <span class="o">&gt;&gt;</span> <span class="p">[]</span>
    <span class="p">[]</span> <span class="o">&gt;&gt;</span> <span class="n">bitwise</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">32</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="n">bitwise</span> <span class="o">|</span> <span class="p">[]</span>
    <span class="p">[]</span> <span class="o">|</span> <span class="n">bitwise</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">)</span>
    
    <span class="n">bitwise</span> <span class="o">^</span> <span class="p">[]</span>
    <span class="p">[]</span> <span class="o">^</span> <span class="n">bitwise</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">11</span> <span class="o">^</span> <span class="mi">13</span><span class="p">)</span>
    
    <span class="n">bitwise</span> <span class="o">&amp;</span> <span class="p">[]</span>
    <span class="p">[]</span> <span class="o">&amp;</span> <span class="n">bitwise</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">12</span> <span class="o">&amp;</span> <span class="mi">20</span><span class="p">)</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="n">a</span> <span class="o">&lt;&lt;=</span><span class="mi">2</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
    
    <span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">32</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">32</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">11</span> <span class="o">^</span> <span class="mi">13</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="mi">12</span> <span class="o">&amp;</span> <span class="mi">20</span><span class="p">)</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="n">a</span> <span class="o">&lt;&lt;=</span> <span class="mi">2</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
    
    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="p">{}</span>
            
    <span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>
    <span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;d&#39;</span>
        
    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;opov&#39;</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;e&#39;</span>
    <span class="n">__pragma__</span><span class="p">(</span><span class="s1">&#39;noopov&#39;</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="properties">
<span id="autotest-properties"></span><h2>4.40. Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id48">
<div class="code-block-caption"><span class="caption-text">Testlet: properties</span><a class="headerlink" href="#id48" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="n">p</span> <span class="o">=</span> <span class="mi">1234</span>
    <span class="k">def</span> <span class="nf">getX</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

    <span class="k">def</span> <span class="nf">setX</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">value</span>
            
    <span class="k">def</span> <span class="nf">getY</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y</span>

    <span class="k">def</span> <span class="nf">setY</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y</span> <span class="o">=</span> <span class="mi">1000</span> <span class="o">+</span> <span class="n">value</span>  <span class="c1"># Weird but should be possible</span>
        
    <span class="k">def</span> <span class="nf">getY2</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y</span>

    <span class="k">def</span> <span class="nf">setY2</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y</span> <span class="o">=</span> <span class="n">value</span>
        
    <span class="k">def</span> <span class="nf">getT</span>    <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t</span>

    <span class="k">def</span> <span class="nf">setT</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t</span> <span class="o">=</span> <span class="n">value</span>
        
    <span class="k">def</span> <span class="nf">getU</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_u</span> <span class="o">+</span> <span class="mi">10000</span>

    <span class="k">def</span> <span class="nf">setU</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_u</span> <span class="o">=</span> <span class="n">value</span> <span class="o">-</span> <span class="mi">5000</span>
            
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getX</span><span class="p">,</span> <span class="n">setX</span><span class="p">),</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getY</span><span class="p">,</span> <span class="n">setY</span><span class="p">),</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getY2</span><span class="p">,</span> <span class="n">setY2</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getT</span><span class="p">,</span> <span class="n">setT</span><span class="p">)</span>
    <span class="n">u</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getU</span><span class="p">,</span> <span class="n">setU</span><span class="p">)</span>
    
<span class="n">A</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mi">5678</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">getZ</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">z_</span>
    
    <span class="k">def</span> <span class="nf">setZ</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_</span> <span class="o">=</span> <span class="n">value</span>
        
    <span class="n">z</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getZ</span><span class="p">,</span> <span class="n">setZ</span><span class="p">)</span>
    
<span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">1234</span>

    <span class="k">def</span> <span class="nf">getW</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">w_</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">offset</span>
        
    <span class="k">def</span> <span class="nf">setW</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w_</span> <span class="o">=</span> <span class="n">value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">offset</span>
        
    <span class="n">w</span> <span class="o">=</span> <span class="nb">property</span> <span class="p">(</span><span class="n">getW</span><span class="p">,</span> <span class="n">setW</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>

    <span class="n">a1</span><span class="o">.</span><span class="n">y2</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">a2</span><span class="o">.</span><span class="n">y2</span> <span class="o">=</span> <span class="mi">2000</span>
    
    <span class="n">a1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">a1</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>
    
    <span class="n">a2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">a2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">8</span>

    <span class="n">a1</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">77</span>
    <span class="n">a1</span><span class="o">.</span><span class="n">u</span> <span class="o">=</span> <span class="mi">88</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">a1</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">a1</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">a2</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">a2</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">a2</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">a1</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">a2</span><span class="o">.</span><span class="n">q</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">a1</span><span class="o">.</span><span class="n">u</span><span class="p">)</span>
    
    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">()</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">()</span>
    
    <span class="n">b</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">100100</span>
    <span class="n">c</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">200200</span>
    <span class="n">c</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">300300</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">w</span><span class="p">)</span>
    
    <span class="n">c</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">400400</span>
    <span class="n">c</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">500500</span>
    <span class="n">b</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">600600</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="representation-as-text-the-repr-and-str-built-in-functions">
<h2>4.41. Representation as text: the repr and str built-in functions<a class="headerlink" href="#representation-as-text-the-repr-and-str-built-in-functions" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id49">
<div class="code-block-caption"><span class="caption-text">Testlet: reprtest</span><a class="headerlink" href="#id49" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Test the repr and string implementations</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;asdf&quot;</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="mf">1.2</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mf">31.2</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="mf">63e-12</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="mf">24e37</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mf">34e-23</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mf">89e32</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mf">3.000234</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.04</span><span class="p">,</span> <span class="mf">2.03</span><span class="p">,</span> <span class="mf">3.005</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;asdf&quot;</span><span class="p">,</span> <span class="mf">2.00009</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">]</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([])</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mf">5.32</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>

    <span class="c1"># @note - in python the dictionary key</span>
    <span class="c1">#     ordering is not specified. So the following tests</span>
    <span class="c1">#     cannot be reliably completed when there are more than</span>
    <span class="c1">#     one key in a dict - so this test coverage was skipped for now.</span>

    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;asdf&quot;</span><span class="p">:</span> <span class="mf">3.4</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;qwer&quot;</span><span class="p">:</span> <span class="s2">&quot;qwerqwer qwerqwer&quot;</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;a9342&quot;</span> <span class="p">:</span> <span class="kc">None</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;nfdns&quot;</span> <span class="p">:</span> <span class="kc">True</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;alel;e;&quot;</span> <span class="p">:</span> <span class="kc">False</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;didi&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;bibi&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;gigi&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Asdf&quot;</span><span class="p">,</span><span class="s2">&quot;qwer&quot;</span><span class="p">,</span><span class="s2">&quot;rewer&quot;</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;hihi&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="s2">&quot;esdf&quot;</span><span class="p">,</span><span class="s2">&quot;qwer&quot;</span><span class="p">,</span><span class="s2">&quot;rewer&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;jiji&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;jiji&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;jiji&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="mi">4</span> <span class="p">}</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Test1</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_val</span> <span class="o">=</span> <span class="n">val</span>

        <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="s2">&quot;[Test1 </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_val</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">class</span> <span class="nc">Test2</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_val</span> <span class="o">=</span> <span class="n">val</span>

        <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="s2">&quot;[Test2 </span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_val</span><span class="o">*</span><span class="mi">2</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Test3</span><span class="p">(</span><span class="n">Test2</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="s2">&quot;[Test3 </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_val</span><span class="p">))</span>

    <span class="k">class</span> <span class="nc">Test4</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_val</span> <span class="o">=</span> <span class="n">val</span>

        <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span><span class="p">(</span><span class="s2">&quot;[Test4 </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_val</span><span class="p">))</span>


    <span class="n">t1</span> <span class="o">=</span> <span class="n">Test1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">Test1</span><span class="p">(</span><span class="mf">4.5</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">Test1</span><span class="p">(</span><span class="s2">&quot;blarg&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">Test1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">t2</span> <span class="o">=</span> <span class="n">Test2</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">Test2</span><span class="p">(</span><span class="mf">7.6</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">Test2</span><span class="p">(</span><span class="o">-</span><span class="mf">8.9</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">t3</span> <span class="o">=</span> <span class="n">Test3</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">t3</span> <span class="o">=</span> <span class="n">Test3</span><span class="p">(</span><span class="mf">3.4</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span> <span class="p">)</span>

    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="p">[</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;irew&quot;</span> <span class="p">:</span> <span class="n">t1</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;irew&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">,</span><span class="n">t3</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span> <span class="p">)</span>

    <span class="n">t4</span> <span class="o">=</span> <span class="n">Test4</span><span class="p">(</span><span class="s2">&quot;qwer&quot;</span><span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">repr</span><span class="p">(</span><span class="n">t4</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t4</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="set-comprehensions">
<h2>4.42. Set comprehensions<a class="headerlink" href="#set-comprehensions" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id50">
<div class="code-block-caption"><span class="caption-text">Testlet: set_comprehensions</span><a class="headerlink" href="#id50" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">even</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">even</span><span class="p">)</span>
    
    <span class="n">odd</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">odd</span><span class="p">)</span>
    
    <span class="n">even</span><span class="o">.</span><span class="n">add</span> <span class="p">(</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">even</span><span class="o">.</span><span class="n">add</span> <span class="p">(</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">even</span><span class="p">)</span>
    
    <span class="n">even</span><span class="o">.</span><span class="n">discard</span> <span class="p">(</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">even</span><span class="o">.</span><span class="n">discard</span> <span class="p">(</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">even</span><span class="p">)</span>
    
    <span class="n">uni</span> <span class="o">=</span> <span class="n">even</span><span class="o">.</span><span class="n">union</span> <span class="p">(</span><span class="n">odd</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">uni</span><span class="p">)</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">odd</span><span class="o">.</span><span class="n">isdisjoint</span> <span class="p">(</span><span class="n">even</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">uni</span><span class="o">.</span><span class="n">isdisjoint</span> <span class="p">(</span><span class="n">even</span><span class="p">))</span>
        
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">even</span><span class="o">.</span><span class="n">issuperset</span> <span class="p">(</span><span class="n">uni</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">uni</span><span class="o">.</span><span class="n">issuperset</span> <span class="p">(</span><span class="n">even</span><span class="p">))</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">even</span><span class="o">.</span><span class="n">issubset</span> <span class="p">(</span><span class="n">uni</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">uni</span><span class="o">.</span><span class="n">issubset</span> <span class="p">(</span><span class="n">even</span><span class="p">))</span>
    
    <span class="n">first</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">first</span><span class="p">)</span>
    
    <span class="n">second</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">}</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">second</span><span class="p">)</span>
    
    <span class="n">inter</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">intersection</span> <span class="p">(</span><span class="n">second</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">inter</span><span class="p">)</span>
    
    <span class="n">diff</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">difference</span> <span class="p">(</span><span class="n">second</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    
    <span class="n">symDiff</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">symmetric_difference</span> <span class="p">(</span><span class="n">second</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">symDiff</span><span class="p">)</span>
    
    <span class="n">aSet</span> <span class="o">=</span> <span class="p">{</span><span class="mi">200</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">}</span>
    <span class="n">aSet</span><span class="o">.</span><span class="n">update</span> <span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">symDiff</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">aSet</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="super">
<h2>4.43. Super<a class="headerlink" href="#super" title="Permalink to this headline">¶</a></h2>
<p>The <em>super ()</em>  builtin function is supported for cases where there’s exactly one path upwards to exactly one matching method.
This covers most use cases, even in a diamond class hierarchy, and results in fast and compact code.
In case of more than one path, possibly to more than one matching method, use explicit class names, as shown in the example below.</p>
<div class="literal-block-wrapper docutils container" id="id51">
<div class="code-block-caption"><span class="caption-text">Testlet: builtin_super</span><a class="headerlink" href="#id51" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="c1"># print (*args) # Leave in for debugging purposes</span>

    <span class="k">class</span> <span class="nc">R</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>
            
    <span class="k">class</span> <span class="nc">A</span> <span class="p">(</span><span class="n">R</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>

        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;A.f:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;A.g:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            
    <span class="k">class</span> <span class="nc">B</span> <span class="p">(</span><span class="n">R</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">d</span>

        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;B.f:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">h</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;A.h:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">C</span> <span class="p">(</span><span class="n">A</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;C.f:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
            
    <span class="k">class</span> <span class="nc">D</span> <span class="p">(</span><span class="n">B</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;D.f:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
            
    <span class="c1"># Diamond inheritance, use super () only to call exactly one target method via unique path.</span>
    <span class="c1"># In case of multiple target methods or multiple paths, don&#39;t use super (), but refer to ancestor classes explicitly instead</span>
    <span class="k">class</span> <span class="nc">E</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="p">):</span>        
        <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
            <span class="n">R</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="c1"># Inherited via multiple legs of a diamond, so call explicitly</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>              <span class="c1"># Could also have used C.__init__, but symmetry preferred</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">d</span>              <span class="c1"># Don&#39;t use both C.__init__ and D.__init__, since R.__init__ will be called by both</span>
                                    <span class="c1"># That&#39;s harmless here, but not always</span>

        <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">C</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>        <span class="c1"># Ambiguous part of diamond, don&#39;t use super ()</span>
            <span class="n">D</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>        <span class="c1"># Ambiguous part of diamond, don&#39;t use super ()</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;E.f:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">g</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>      <span class="c1"># Unique, using super () is OK</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;E.g:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
            
        <span class="k">def</span> <span class="nf">h</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="nb">super</span> <span class="p">()</span> <span class="o">.</span><span class="n">h</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>      <span class="c1"># Unique, using super () is OK</span>
            <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;E.h:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
           
    <span class="n">rr</span> <span class="o">=</span> <span class="n">R</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;--1--&#39;</span><span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">301</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">711</span><span class="p">,</span> <span class="mi">811</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="mi">721</span><span class="p">,</span> <span class="mi">821</span><span class="p">)</span>

    <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;--2--&#39;</span><span class="p">)</span>

    <span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">(</span><span class="mi">102</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">302</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">712</span><span class="p">,</span> <span class="mi">812</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">h</span> <span class="p">(</span><span class="mi">732</span><span class="p">,</span> <span class="mi">832</span><span class="p">)</span>

    <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;--3--&#39;</span><span class="p">)</span>

    <span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">(</span><span class="mi">103</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">303</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">713</span><span class="p">,</span> <span class="mi">813</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="mi">723</span><span class="p">,</span> <span class="mi">823</span><span class="p">)</span>

    <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;--4--&#39;</span><span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">D</span> <span class="p">(</span><span class="mi">104</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">304</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">714</span><span class="p">,</span> <span class="mi">814</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">h</span> <span class="p">(</span><span class="mi">734</span><span class="p">,</span> <span class="mi">834</span><span class="p">)</span>

    <span class="n">show</span> <span class="p">(</span><span class="s1">&#39;--5--&#39;</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">E</span> <span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">305</span><span class="p">,</span> <span class="mi">405</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">f</span> <span class="p">(</span><span class="mi">715</span><span class="p">,</span> <span class="mi">815</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">g</span> <span class="p">(</span><span class="mi">725</span><span class="p">,</span> <span class="mi">825</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">h</span> <span class="p">(</span><span class="mi">735</span><span class="p">,</span> <span class="mi">835</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="simple-and-augmented-assignment">
<h2>4.44. Simple and augmented assignment<a class="headerlink" href="#simple-and-augmented-assignment" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id52">
<div class="code-block-caption"><span class="caption-text">Testlet: simple_and_augmented_assignment</span><a class="headerlink" href="#id52" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        
    <span class="k">def</span> <span class="nf">f</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>
        
<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">z</span><span class="p">)</span>
    
    <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">l</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">l</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">l</span><span class="p">)</span>
    
    <span class="c1"># Should generate x++</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="o">+</span><span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
    <span class="c1"># Should generate y--</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="o">+</span><span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">3</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">6</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
    <span class="n">y</span> <span class="o">-=</span> <span class="mi">3</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span>
    
    <span class="n">l</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">l</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">l</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">+=</span> <span class="n">y</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">x</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>
    
    <span class="n">a</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">())</span>
    
    <span class="n">a</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">10</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">())</span>
    
    <span class="n">a</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="n">a</span><span class="o">.</span><span class="n">i</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">f</span> <span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="truthyness-optional-python-style-evaluation-of-truthyness-falsyness-and-non-empty-container-selection">
<h2>4.45. Truthyness: optional Python-style evaluation of truthyness, falsyness and non-empty container selection<a class="headerlink" href="#truthyness-optional-python-style-evaluation-of-truthyness-falsyness-and-non-empty-container-selection" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id53">
<div class="code-block-caption"><span class="caption-text">Testlet: truthyness</span><a class="headerlink" href="#id53" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">org.transcrypt.stubs.browser</span> <span class="k">import</span> <span class="n">__pragma__</span>

<span class="n">__pragma__</span> <span class="p">(</span><span class="s1">&#39;tconv&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">len</span> <span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">}))</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Select nonemtpy container, if any&lt;br&gt;&#39;</span><span class="p">)</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(()</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(()</span> <span class="ow">or</span> <span class="p">())</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(()</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(()</span> <span class="ow">or</span> <span class="p">()</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(()</span> <span class="ow">or</span> <span class="p">()</span> <span class="ow">or</span> <span class="p">())</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([]</span> <span class="ow">or</span> <span class="p">[])</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([]</span> <span class="ow">or</span> <span class="p">[]</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">([]</span> <span class="ow">or</span> <span class="p">[]</span> <span class="ow">or</span> <span class="p">[])</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="mi">0</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="nb">set</span> <span class="p">())</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">0</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">0</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="nb">set</span> <span class="p">()</span> <span class="ow">or</span> <span class="nb">set</span> <span class="p">())</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">13</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({}</span> <span class="ow">or</span> <span class="p">{})</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">11</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">13</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">13</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({}</span> <span class="ow">or</span> <span class="p">{}</span> <span class="ow">or</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">13</span><span class="p">})</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">({}</span> <span class="ow">or</span> <span class="p">{}</span> <span class="ow">or</span> <span class="p">{})</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&lt;br&gt;&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Boolean evaluations&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="p">(</span>
        <span class="s1">&#39;&lt;br&gt; -- falsy -- &lt;br&gt;&#39;</span><span class="p">,</span>
        <span class="p">(),</span>
        <span class="p">[],</span>
        <span class="nb">set</span> <span class="p">(),</span>
        <span class="p">{},</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="mi">3</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;&lt;br&gt; -- truthy -- &lt;br&gt;&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
        <span class="mi">5</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">,</span>
        <span class="kc">True</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">expression</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt; -- falsy -- &lt;br&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br&gt; -- truthy -- &lt;br&gt;&#39;</span><span class="p">):</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">expression</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">expression</span><span class="p">,</span> <span class="s1">&#39; . . . &#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;operators&#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">expression</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="p">(</span><span class="kc">True</span> <span class="ow">and</span> <span class="n">expression</span><span class="p">))</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="p">(</span><span class="kc">False</span> <span class="ow">or</span> <span class="n">expression</span><span class="p">))</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="p">(</span><span class="n">expression</span> <span class="ow">and</span> <span class="kc">True</span><span class="p">))</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="p">(</span><span class="n">expression</span> <span class="ow">and</span> <span class="kc">False</span><span class="p">))</span>
            
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;if&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expression</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                
            <span class="k">if</span> <span class="n">expression</span> <span class="ow">or</span> <span class="n">expression</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                
            <span class="k">if</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;if&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">expression</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;elif&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;else&#39;</span><span class="p">)</span>
                
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;while&#39;</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">expression</span><span class="p">:</span>
                <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">break</span>
                
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;condex&#39;</span><span class="p">)</span>
            <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="kc">True</span> <span class="k">if</span> <span class="n">expression</span> <span class="k">else</span> <span class="kc">False</span><span class="p">)</span>
            
    <span class="k">if</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;0.1&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;Shouldn</span><span class="se">\&#39;</span><span class="s1">t be here...&#39;</span><span class="p">)</span>
        
    <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="k">pass</span>
        
    <span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__bool__</span> <span class="p">(</span> <span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__bool__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">def</span> <span class="nf">__len__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">D</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__len__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">E</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">__len__</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>

    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="s1">&#39;instances of custom classes&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">A</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">B</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">C</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">D</span> <span class="p">())</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="ow">not</span> <span class="ow">not</span> <span class="n">E</span> <span class="p">())</span>
    
</pre></div>
</div>
</div>
</div>
<div class="section" id="tuple-assignment-recursive-and-in-for-headers-using-enumerate">
<h2>4.46. Tuple assignment: recursive and in for-headers using enumerate<a class="headerlink" href="#tuple-assignment-recursive-and-in-for-headers-using-enumerate" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id54">
<div class="code-block-caption"><span class="caption-text">Testlet: tuple_assignment</span><a class="headerlink" href="#id54" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">santa</span><span class="p">,</span> <span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">],</span> <span class="n">e</span><span class="p">)</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;santa-claus&#39;</span><span class="p">,</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">santa</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">((</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)):</span>
        <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    
    <span class="n">e</span><span class="p">,</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.14</span><span class="p">,</span> <span class="mf">2.74</span>
    <span class="n">e</span><span class="p">,</span> <span class="n">pi</span> <span class="o">=</span> <span class="n">pi</span><span class="p">,</span> <span class="n">e</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">pi</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">f</span> <span class="p">():</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">7000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)]</span>
        
    <span class="k">def</span> <span class="nf">g</span> <span class="p">():</span>
        <span class="k">return</span> <span class="n">f</span>
        
    <span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">],</span> <span class="p">[</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">],</span> <span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">g</span> <span class="p">()</span> <span class="p">()</span>
    
    <span class="n">autoTester</span><span class="o">.</span><span class="n">check</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_sphinx.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Subjects</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Systematic code examples: a guided tour of Transcrypt</a><ul>
<li><a class="reference internal" href="#arguments-kwargs-args-defaults-at-call-and-def-time-also-for-lambda-s">4.1. Arguments: **kwargs, *args, defaults, at call and def time, also for lambda’s</a></li>
<li><a class="reference internal" href="#attribute-access-by-name-getattr-setattr-hasattr">4.2. Attribute access by name: getattr, setattr, hasattr</a></li>
<li><a class="reference internal" href="#attribute-proxies-by-name-getattr-setattr">4.3. Attribute proxies by name: __getattr__, __setattr__</a></li>
<li><a class="reference internal" href="#bytes-and-bytearrays-initial-support">4.4. Bytes and bytearrays: initial support</a></li>
<li><a class="reference internal" href="#callable-or-not-using-the-callable-built-in-function">4.5. Callable or not: using the callable () built-in function</a></li>
<li><a class="reference internal" href="#classes-multiple-inheritance-and-assignment-of-bound-functions">4.6. Classes: multiple inheritance and assignment of bound functions</a></li>
<li><a class="reference internal" href="#complex-numbers-python-s-builtin-complex-datatype">4.7. Complex numbers: Python’s builtin complex datatype</a></li>
<li><a class="reference internal" href="#conditional-expressions-simple-and-nested">4.8. Conditional expressions: simple and nested</a></li>
<li><a class="reference internal" href="#control-structures-for-else-while-else-if-elif-else-break-continue">4.9. Control structures: for…else, while…else, if…elif…else, break, continue</a></li>
<li><a class="reference internal" href="#data-classes-avoiding-boilerplate-code">4.10. Data classes: Avoiding boilerplate code</a></li>
<li><a class="reference internal" href="#data-structures-tuple-list-dict-set">4.11. Data structures: tuple, list, dict, set</a></li>
<li><a class="reference internal" href="#decorators-function-and-class-with-and-without-parameters">4.12. Decorators: function and class, with and without parameters</a></li>
<li><a class="reference internal" href="#dict-comprehensions">4.13. Dict comprehensions</a></li>
<li><a class="reference internal" href="#dictionaries-dict-revisited">4.14. Dictionaries: dict revisited</a></li>
<li><a class="reference internal" href="#diverse-issues">4.15. Diverse issues</a></li>
<li><a class="reference internal" href="#diverse-pulls">4.16. Diverse pulls</a></li>
<li><a class="reference internal" href="#docstrings-doc-attribute-generated-optionally">4.17. Docstrings: __doc__ attribute generated optionally</a></li>
<li><a class="reference internal" href="#exceptions-exception-class-hierarchy-finally">4.18. Exceptions: exception class hierarchy, finally</a></li>
<li><a class="reference internal" href="#extended-slices-facilitating-numscrypt-and-such">4.19. Extended slices: facilitating NumScrypt and such</a></li>
<li><a class="reference internal" href="#general-functions-sort-and-sorted">4.20. General functions: sort and sorted</a></li>
<li><a class="reference internal" href="#global-variable-access-by-using-globals-variable-name">4.21. Global variable access by using globals () [&lt;variable_name&gt;]</a></li>
<li><a class="reference internal" href="#indices-and-slices-lhs-rhs-basic-and-extended">4.22. Indices and slices: LHS, RHS, basic and extended</a></li>
<li><a class="reference internal" href="#iterators-and-generators">4.23. Iterators and generators</a></li>
<li><a class="reference internal" href="#lambda-functions-with-all-types-of-args">4.24. Lambda functions with all types of args</a></li>
<li><a class="reference internal" href="#list-comprehensions-multi-loop-and-nested-with-multiple-if-s">4.25. List comprehensions: multi-loop and nested with multiple if’s</a></li>
<li><a class="reference internal" href="#local-classes-inside-other-classes-and-functions">4.26. Local classes: inside other classes and functions</a></li>
<li><a class="reference internal" href="#metaclasses-overriding-type-new-in-a-descendant-metaclass">4.27. Metaclasses: overriding type.__new__ in a descendant metaclass</a></li>
<li><a class="reference internal" href="#method-and-class-decorators">4.28. Method and class decorators</a></li>
<li><a class="reference internal" href="#module-builtin-a-small-part-of-it-demo-ed">4.29. Module builtin: a small part of it demo’ed</a></li>
<li><a class="reference internal" href="#module-cmath-allmost-all-of-python-s-cmath-module">4.30. Module cmath: allmost all of Python’s cmath module</a></li>
<li><a class="reference internal" href="#module-datetime-transcryption-of-python-s-datetime-module">4.31. Module datetime: transcryption of Python’s datetime module</a></li>
<li><a class="reference internal" href="#module-itertools-allmost-all-of-python-s-itertools-module">4.32. Module itertools: allmost all of Python’s itertools module</a></li>
<li><a class="reference internal" href="#module-math-allmost-all-of-python-s-math-module">4.33. Module math: allmost all of Python’s math module</a></li>
<li><a class="reference internal" href="#module-random-most-important-functions-of-python-s-random-module">4.34. Module random: most important functions of Python’s random module</a></li>
<li><a class="reference internal" href="#module-re-transcryption-of-python-s-re-module">4.35. Module re: transcryption of Python’s re module</a></li>
<li><a class="reference internal" href="#module-time-transcryption-of-python-s-time-module">4.36. Module time: transcryption of Python’s time module</a></li>
<li><a class="reference internal" href="#modules-hierarchical-both-local-to-the-project-and-global-url-based">4.37. Modules: hierarchical, both local to the project and global url-based</a></li>
<li><a class="reference internal" href="#nonlocals">4.38. Nonlocals</a></li>
<li><a class="reference internal" href="#operator-overloading">4.39. Operator overloading</a></li>
<li><a class="reference internal" href="#properties">4.40. Properties</a></li>
<li><a class="reference internal" href="#representation-as-text-the-repr-and-str-built-in-functions">4.41. Representation as text: the repr and str built-in functions</a></li>
<li><a class="reference internal" href="#set-comprehensions">4.42. Set comprehensions</a></li>
<li><a class="reference internal" href="#super">4.43. Super</a></li>
<li><a class="reference internal" href="#simple-and-augmented-assignment">4.44. Simple and augmented assignment</a></li>
<li><a class="reference internal" href="#truthyness-optional-python-style-evaluation-of-truthyness-falsyness-and-non-empty-container-selection">4.45. Truthyness: optional Python-style evaluation of truthyness, falsyness and non-empty container selection</a></li>
<li><a class="reference internal" href="#tuple-assignment-recursive-and-in-for-headers-using-enumerate">4.46. Tuple assignment: recursive and in for-headers using enumerate</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="special_facilities.html"
                        title="previous chapter">3. Special facilities</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="integration_javascript.html"
                        title="next chapter">5. Seamless interoperation with the DOM</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/supported_constructs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="integration_javascript.html" title="5. Seamless interoperation with the DOM"
             >next</a> |</li>
        <li class="right" >
          <a href="special_facilities.html" title="3. Special facilities"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Transcrypt 3.7.15 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Jacques de Hooge.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.8.
    </div>
  </body>
</html>